<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The AI Knowledge Gap: Why Free Information Isn't Making Us Equal</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
            color: #2c3e50;
            line-height: 1.8;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin: -20px -20px 30px -20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .header h1 {
            margin: 0;
            font-size: 2.8em;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .header p {
            margin: 15px auto 0;
            font-size: 1.3em;
            opacity: 0.95;
            max-width: 800px;
            line-height: 1.6;
        }
        .intro-section {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .intro-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
        }
        .big-idea {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f2ff 100%);
            border-left: 5px solid #667eea;
            padding: 25px;
            margin: 30px 0;
            border-radius: 8px;
            font-size: 1.2em;
        }
        .story-box {
            background: #fff8e1;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .story-box h3 {
            color: #f57c00;
            margin-top: 0;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .tab {
            padding: 14px 28px;
            background: white;
            border: 2px solid #e0e6ed;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            position: relative;
        }
        .tab:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        .tab-description {
            font-size: 0.85em;
            font-weight: normal;
            opacity: 0.8;
        }
        .content {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            min-height: 600px;
        }
        .plot-container {
            margin: 30px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .explanation-box {
            background: #e3f2fd;
            border: 1px solid #64b5f6;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .explanation-box h4 {
            color: #1976d2;
            margin-top: 0;
        }
        .equation-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
            overflow-x: auto;
        }
        .equation-explanation {
            background: #e8eaf6;
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            font-size: 0.95em;
        }
        .real-world-example {
            background: #f3e5f5;
            border: 2px solid #ab47bc;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .real-world-example h4 {
            color: #7b1fa2;
            margin-top: 0;
        }
        .interactive-guide {
            background: linear-gradient(45deg, #26a69a, #66bb6a);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .guide-button {
            background: white;
            color: #26a69a;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }
        .guide-button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .metric-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        .metric-card:hover {
            transform: translateY(-5px);
        }
        .metric-value {
            font-size: 2.5em;
            font-weight: 700;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 1em;
            opacity: 0.9;
        }
        .metric-context {
            font-size: 0.9em;
            margin-top: 10px;
            opacity: 0.85;
        }
        .slider-container {
            margin: 25px 0;
            padding: 20px;
            background: #f5f7fa;
            border-radius: 8px;
        }
        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
        }
        .slider-description {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 10px;
        }
        input[type="range"] {
            width: 100%;
            margin: 10px 0;
            height: 8px;
            border-radius: 4px;
            background: #ddd;
            outline: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }
        .insight-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .insight-box h4 {
            color: #856404;
            margin-top: 0;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 2px dotted #667eea;
            cursor: help;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 300px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        .faq-section {
            margin: 30px 0;
        }
        .faq-item {
            background: #f8f9fa;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .faq-item:hover {
            background: #e9ecef;
        }
        .faq-question {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
        }
        .faq-answer {
            display: none;
            padding-top: 10px;
        }
        .faq-item.active .faq-answer {
            display: block;
        }
        .tour-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            z-index: 1000;
        }
        .tour-popup {
            position: fixed;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-width: 500px;
            z-index: 1001;
        }
        .tour-button {
            background: #667eea;
            color: white;
            padding: 10px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
        }
        .tour-button:hover {
            background: #5a67d8;
        }
        .hidden {
            display: none;
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e6ed;
        }
        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .share-section {
            background: #f0f4f8;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin: 30px 0;
        }
        .share-button {
            background: #667eea;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            margin: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .share-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>The AI Knowledge Gap</h1>
            <p>Why Free Information Isn't Making Us Equal – An Interactive Exploration</p>
        </div>

        <!-- Welcome Section -->
        <div class="intro-section" id="welcomeSection">
            <h2>🎯 What's This About?</h2>
            <p>Imagine if tomorrow, every book, course, and piece of knowledge became completely free. Would everyone become equally educated? You might think yes – but the data tells a different story.</p>
            
            <div class="big-idea">
                <strong>The Big Discovery:</strong> Even as AI makes information virtually free, the gap between the "knowledge elite" and everyone else is actually growing FASTER than ever. This interactive model shows you why – and what we can do about it.
            </div>

            <div class="story-box">
                <h3>📖 A Quick Story</h3>
                <p>Meet Sarah and Tom. Both have access to the same free AI tools and online courses. But Sarah, who already has strong study habits and a college degree, uses AI to learn 10x faster. Tom, who struggles with focus and never developed good learning skills, barely improves despite having the same tools. This is happening at a massive scale.</p>
            </div>

            <div class="interactive-guide">
                <h3>Ready to Understand Why?</h3>
                <p>Take a quick guided tour to see the data, or explore on your own</p>
                <button class="guide-button" onclick="startTour()">🚀 Start Guided Tour (2 min)</button>
                <button class="guide-button" onclick="skipTour()">📊 Explore On My Own</button>
            </div>
        </div>

        <div class="tabs hidden" id="mainTabs">
            <div class="tab active" onclick="showTab('story')">
                The Story
                <div class="tab-description">What's happening</div>
            </div>
            <div class="tab" onclick="showTab('see')">
                See It Happen
                <div class="tab-description">Live visualization</div>
            </div>
            <div class="tab" onclick="showTab('why')">
                Why It Happens
                <div class="tab-description">The factors</div>
            </div>
            <div class="tab" onclick="showTab('future')">
                Future Scenarios
                <div class="tab-description">What's coming</div>
            </div>
            <div class="tab" onclick="showTab('solutions')">
                Solutions
                <div class="tab-description">What works</div>
            </div>
            <div class="tab" onclick="showTab('details')">
                Technical Details
                <div class="tab-description">For researchers</div>
            </div>
        </div>

        <!-- The Story Tab -->
        <div id="story" class="content hidden">
            <h2>The Knowledge Gap Story</h2>
            
            <div class="metric-display">
                <div class="metric-card">
                    <div class="metric-label">Average Tech Worker Income</div>
                    <div class="metric-value">$103,580</div>
                    <div class="metric-context">Growing 5% yearly</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Average Service Worker Income</div>
                    <div class="metric-value">$49,500</div>
                    <div class="metric-context">Growing 1% yearly</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Knowledge Gap Today</div>
                    <div class="metric-value">2.1x</div>
                    <div class="metric-context">Elite vs Mass</div>
                </div>
                <div class="metric-card pulse">
                    <div class="metric-label">Gap in 2030</div>
                    <div class="metric-value">5.0x</div>
                    <div class="metric-context">At current rate</div>
                </div>
            </div>

            <h3>What We Discovered</h3>
            <p>Using data from 2019-2025, we found something surprising:</p>
            
            <div class="insight-box">
                <h4>💡 Key Insight</h4>
                <p>It's not about ACCESS to information anymore – it's about the SPEED of learning. People who already know a lot can use AI to learn even faster, while others get left behind.</p>
            </div>

            <h3>The Three Speed Limits</h3>
            <div class="real-world-example">
                <h4>🏃‍♂️ Think of it Like Running</h4>
                <p><strong>Velocity:</strong> How fast you're learning right now (like your running speed)</p>
                <p><strong>Acceleration:</strong> How quickly you can speed up your learning (like going from walk to sprint)</p>
                <p><strong>Jerk:</strong> How fast your acceleration changes (like a rocket vs a bicycle)</p>
                <p>Elite learners are like rockets – they don't just go fast, they speed up faster and faster. Everyone else? More like bicycles.</p>
            </div>

            <div class="faq-section">
                <h3>Common Questions</h3>
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">❓ But isn't free information good for equality?</div>
                    <div class="faq-answer">
                        Yes, free information helps! But it's like giving everyone a Ferrari – if you don't know how to drive, you won't go fast. The people who already know how to "drive" (learn effectively) benefit much more from AI tools.
                    </div>
                </div>
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">❓ What makes someone a "knowledge elite"?</div>
                    <div class="faq-answer">
                        It's not just about being smart. It includes: strong reading skills, good study habits, ability to focus for long periods, knowing how to use new tools, having time to learn, and being surrounded by other learners.
                    </div>
                </div>
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">❓ Is this gap inevitable?</div>
                    <div class="faq-answer">
                        No! Our model shows specific interventions can reduce the gap by up to 41%. The key is helping everyone learn HOW to learn, not just giving them access to information.
                    </div>
                </div>
            </div>
        </div>

        <!-- See It Happen Tab -->
        <div id="see" class="content hidden">
            <h2>Watch the Gap Grow in Real-Time</h2>
            
            <div class="explanation-box">
                <h4>📊 What You're Seeing</h4>
                <p>This chart shows how knowledge accumulates over time for two groups: those with strong learning skills (blue line) and those without (purple line). The orange dashed line shows the growing gap between them.</p>
            </div>

            <div class="plot-container">
                <div id="mainVisualization"></div>
            </div>

            <div class="slider-container">
                <div class="slider-description">
                    🎮 <strong>Try This:</strong> Adjust how fast AI is improving to see how it affects the gap
                </div>
                <div class="slider-label">
                    <span>AI Progress Speed</span>
                    <span id="aiSpeedValue">Normal (38% per year)</span>
                </div>
                <input type="range" id="aiSpeedSlider" min="0" max="100" value="38" oninput="updateAISpeed()">
                <p style="font-size: 0.9em; color: #666;">👈 Slower AI progress &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Faster AI progress 👉</p>
            </div>

            <div class="insight-box">
                <h4>🔍 What to Notice</h4>
                <ul>
                    <li>Even small increases in AI speed dramatically widen the gap</li>
                    <li>The gap grows exponentially, not linearly</li>
                    <li>By 2030, the difference becomes society-changing</li>
                </ul>
            </div>

            <h3>The Acceleration Problem</h3>
            <div class="plot-container">
                <div id="accelerationVisualization"></div>
            </div>

            <div class="explanation-box">
                <h4>🚀 Why This Matters</h4>
                <p>The red line shows the human limit for how fast we can adapt to change. Elite learners are approaching this limit (they can't go much faster), while others aren't even close. It's like some people are in jets while others are walking.</p>
            </div>
        </div>

        <!-- Why It Happens Tab -->
        <div id="why" class="content hidden">
            <h2>Why The Gap Keeps Growing</h2>
            
            <div class="real-world-example">
                <h4>🧠 The Learning Multiplication Effect</h4>
                <p>Imagine two people using ChatGPT:</p>
                <ul>
                    <li><strong>Alice:</strong> PhD, reads fast, knows what questions to ask → Learns 10 new concepts per hour</li>
                    <li><strong>Bob:</strong> High school, reads slowly, doesn't know where to start → Learns 1 new concept per hour</li>
                </ul>
                <p>Same tool, 10x different results. Now multiply this by millions of people...</p>
            </div>

            <h3>The Five Factors That Create the Gap</h3>
            
            <table>
                <thead>
                    <tr>
                        <th>Factor</th>
                        <th>Knowledge Elite</th>
                        <th>Everyone Else</th>
                        <th>Gap Multiple</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="tooltip">Learning Rate<span class="tooltiptext">How much you learn from each learning opportunity</span></span></td>
                        <td>40% retention</td>
                        <td>5% retention</td>
                        <td>8x</td>
                    </tr>
                    <tr>
                        <td><span class="tooltip">Present Bias<span class="tooltiptext">How much you value learning now vs. later</span></span></td>
                        <td>0.93 (patient)</td>
                        <td>0.78 (impatient)</td>
                        <td>1.2x</td>
                    </tr>
                    <tr>
                        <td><span class="tooltip">Saturation Point<span class="tooltiptext">How much you can learn before getting overwhelmed</span></span></td>
                        <td>High capacity</td>
                        <td>Low capacity</td>
                        <td>2.5x</td>
                    </tr>
                    <tr>
                        <td><span class="tooltip">Compounding Effect<span class="tooltiptext">How much new knowledge builds on old knowledge</span></span></td>
                        <td>1.30 exponential</td>
                        <td>1.05 exponential</td>
                        <td>Massive over time</td>
                    </tr>
                    <tr>
                        <td><span class="tooltip">Adaptation Speed<span class="tooltiptext">How quickly you adjust to new learning methods</span></span></td>
                        <td>Fast (0.12)</td>
                        <td>Slow (0.04)</td>
                        <td>3x</td>
                    </tr>
                </tbody>
            </table>

            <div class="plot-container">
                <div id="factorsVisualization"></div>
            </div>

            <h3>Real-World Examples</h3>
            
            <div class="story-box">
                <h3>👩‍💻 Case Study: Software Developer vs. Retail Worker</h3>
                <p><strong>Sarah (Developer):</strong></p>
                <ul>
                    <li>Uses AI to write code 5x faster</li>
                    <li>Learns new programming languages in days</li>
                    <li>Salary increased 40% in 2 years</li>
                </ul>
                <p><strong>Mike (Retail):</strong></p>
                <ul>
                    <li>Tried to learn coding with AI</li>
                    <li>Got overwhelmed by technical terms</li>
                    <li>Gave up after 2 weeks</li>
                </ul>
            </div>

            <div class="insight-box">
                <h4>💡 The Cruel Irony</h4>
                <p>The people who need education the most benefit the least from AI tools. It's like putting rocket fuel in both a rocket and a bicycle – one flies to space, the other just tips over.</p>
            </div>
        </div>

        <!-- Future Scenarios Tab -->
        <div id="future" class="content hidden">
            <h2>Where This Leads: Three Futures</h2>
            
            <div class="explanation-box">
                <h4>🔮 Interactive Future Simulator</h4>
                <p>Adjust the sliders below to see how different scenarios play out by 2030</p>
            </div>

            <div class="slider-container">
                <div class="slider-label">
                    <span>AI Development Speed</span>
                    <span id="futureAIValue">Current Pace</span>
                </div>
                <input type="range" id="futureAISlider" min="0" max="100" value="50" oninput="updateFutureScenario()">
                
                <div class="slider-label" style="margin-top: 20px;">
                    <span>Education Intervention Level</span>
                    <span id="interventionValue">None</span>
                </div>
                <input type="range" id="interventionSlider" min="0" max="100" value="0" oninput="updateFutureScenario()">
            </div>

            <div class="plot-container">
                <div id="futureVisualization"></div>
            </div>

            <div class="metric-display" id="futureMetrics">
                <div class="metric-card">
                    <div class="metric-label">Income Gap by 2030</div>
                    <div class="metric-value" id="futureGapValue">5.0x</div>
                    <div class="metric-context" id="futureGapContext">Status quo scenario</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Social Mobility</div>
                    <div class="metric-value" id="mobilityValue">Low</div>
                    <div class="metric-context" id="mobilityContext">Hard to change class</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Society Type</div>
                    <div class="metric-value" id="societyValue">Divided</div>
                    <div class="metric-context" id="societyContext">Two-tier system</div>
                </div>
            </div>

            <h3>Scenario Breakdown</h3>
            
            <div class="real-world-example" id="scenario1">
                <h4>🌅 Scenario 1: The Intervention Success (Best Case)</h4>
                <ul>
                    <li>Massive investment in "learning how to learn" programs</li>
                    <li>AI tutors designed specifically for struggling learners</li>
                    <li>Knowledge gap reduced by 41%</li>
                    <li>Middle class expands, social mobility increases</li>
                </ul>
                <p><strong>Requirements:</strong> $50B+ annual investment, political will, 5-10 year commitment</p>
            </div>

            <div class="story-box" id="scenario2">
                <h3>⚡ Scenario 2: The Acceleration (Current Path)</h3>
                <ul>
                    <li>AI capabilities double every 2 years</li>
                    <li>No major education interventions</li>
                    <li>Knowledge gap reaches 10x by 2035</li>
                    <li>Two separate societies emerge</li>
                </ul>
                <p><strong>Warning signs:</strong> Already visible in wage data, education stats, and AI usage patterns</p>
            </div>

            <div class="insight-box" id="scenario3">
                <h4>🌪️ Scenario 3: The Disruption (Worst Case)</h4>
                <ul>
                    <li>AI progress accelerates beyond predictions</li>
                    <li>Mass unemployment in non-elite sectors</li>
                    <li>Knowledge gap becomes unbridgeable</li>
                    <li>Social unrest and systemic breakdown</li>
                </ul>
                <p><strong>Probability:</strong> 15-20% by expert estimates</p>
            </div>
        </div>

        <!-- Solutions Tab -->
        <div id="solutions" class="content hidden">
            <h2>What Actually Works: Evidence-Based Solutions</h2>
            
            <div class="big-idea">
                <strong>The Key Finding:</strong> Teaching HOW to learn is 4x more effective than just providing access to information. Here's what the data shows works.
            </div>

            <div class="plot-container">
                <div id="solutionsChart"></div>
            </div>

            <h3>Ranked by Effectiveness</h3>
            
            <div class="real-world-example">
                <h4>🥇 #1: Intensive Learning Bootcamps (41% gap reduction)</h4>
                <p><strong>What it is:</strong> 3-6 month programs teaching meta-learning skills</p>
                <p><strong>How it works:</strong></p>
                <ul>
                    <li>Focus on HOW to learn, not WHAT to learn</li>
                    <li>Build learning habits gradually</li>
                    <li>Peer support and accountability</li>
                </ul>
                <p><strong>Real example:</strong> Finland's adult education program increased participation from 10% to 55%</p>
                <p><strong>Cost:</strong> $5,000 per person, pays back in 2 years via increased earnings</p>
            </div>

            <div class="story-box">
                <h3>🥈 #2: AI Tutors for Struggling Learners (18% gap reduction)</h3>
                <p><strong>What it is:</strong> AI specifically designed for people with learning difficulties</p>
                <p><strong>Key features:</strong></p>
                <ul>
                    <li>Adapts to slow learners automatically</li>
                    <li>Never gets frustrated or impatient</li>
                    <li>Breaks complex ideas into tiny steps</li>
                </ul>
                <p><strong>Success story:</strong> Arizona State University reduced dropout rates by 30% with adaptive AI</p>
            </div>

            <div class="explanation-box">
                <h4>🥉 #3: Universal Basic Learning Time (15% gap reduction)</h4>
                <p><strong>The idea:</strong> Pay people to learn, just like universal basic income</p>
                <ul>
                    <li>2 hours paid learning time per day</li>
                    <li>Accessible online or in community centers</li>
                    <li>Gamified to maintain engagement</li>
                </ul>
                <p><strong>Pilot results:</strong> South Korea's program showed 3x learning improvement in 6 months</p>
            </div>

            <h3>What Doesn't Work (Surprising!)</h3>
            
            <table>
                <thead>
                    <tr>
                        <th>Common Solution</th>
                        <th>Why It Seems Good</th>
                        <th>Why It Fails</th>
                        <th>Gap Reduction</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Free laptops/tablets</td>
                        <td>Gives access to everyone</td>
                        <td>Hardware isn't the bottleneck</td>
                        <td>2%</td>
                    </tr>
                    <tr>
                        <td>More online courses</td>
                        <td>Information is power</td>
                        <td>Completion rate < 5%</td>
                        <td>3%</td>
                    </tr>
                    <tr>
                        <td>Slowing AI development</td>
                        <td>Gives people time to catch up</td>
                        <td>Just delays the inevitable</td>
                        <td>0% (delays 1 year)</td>
                    </tr>
                    <tr>
                        <td>Tax credits for learning</td>
                        <td>Incentivizes education</td>
                        <td>Benefits those already learning</td>
                        <td>4%</td>
                    </tr>
                </tbody>
            </table>

            <div class="interactive-guide" style="background: linear-gradient(45deg, #f06292, #ec407a);">
                <h3>🎯 Design Your Own Solution</h3>
                <p>Use our interactive calculator to see how different combinations work</p>
                <button class="guide-button" onclick="showSolutionCalculator()">Open Solution Designer</button>
            </div>

            <div class="share-section">
                <h3>Spread the Word</h3>
                <p>Knowledge about the knowledge gap is the first step to solving it</p>
                <button class="share-button" onclick="shareTwitter()">Share on Twitter</button>
                <button class="share-button" onclick="shareLinkedIn()">Share on LinkedIn</button>
                <button class="share-button" onclick="copyLink()">Copy Link</button>
            </div>
        </div>

        <!-- Technical Details Tab -->
        <div id="details" class="content hidden">
            <h2>Technical Details for Researchers</h2>
            
            <div class="explanation-box">
                <h4>📐 About This Model</h4>
                <p>This is a behaviorally-grounded mathematical model of knowledge accumulation dynamics, calibrated with empirical data from 2019-2025. All parameters are derived from peer-reviewed sources.</p>
            </div>

            <h3>Core Equations</h3>
            
            <div class="equation-box">
                <h4>Knowledge Accumulation Dynamics</h4>
                $$\dot{K}_g(t) = \beta_g(t) \cdot d_g(t) \cdot s_g(K_g(t)) \cdot g(t) \cdot K_g(t)^{\phi}$$
                
                <div class="equation-explanation">
                    <strong>Where:</strong>
                    <ul>
                        <li>K_g = Knowledge stock for group g (elite or mass)</li>
                        <li>β_g = Learning rate multiplier (0.40 elite, 0.05 mass)</li>
                        <li>d_g = Present bias discount factor (0.93 elite, 0.78 mass)</li>
                        <li>s_g = Cognitive saturation function = 1/(1 + ψ_g K)</li>
                        <li>g(t) = AI progress rate (logistic growth)</li>
                        <li>φ = Complementarity exponent (1.30 elite, 1.05 mass)</li>
                    </ul>
                </div>
            </div>

            <div class="equation-box">
                <h4>AI Progress Function</h4>
                $$g(t) = \frac{g_0}{1 + \exp[-\sigma(t - t_0)]}$$
                
                <div class="equation-explanation">
                    <strong>Fitted to LLM cost decline data:</strong>
                    <ul>
                        <li>g₀ = 0.38 (38% annual improvement)</li>
                        <li>σ = 0.25 (transition steepness)</li>
                        <li>t₀ = 2026 (inflection point)</li>
                    </ul>
                </div>
            </div>

            <h3>Parameter Sources</h3>
            
            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                        <th>Source</th>
                        <th>Confidence</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Learning rates (β)</td>
                        <td>0.40 / 0.05</td>
                        <td>OECD Adult Learning Survey 2025</td>
                        <td>High</td>
                    </tr>
                    <tr>
                        <td>Present bias (d)</td>
                        <td>0.93 / 0.78</td>
                        <td>NBER Working Paper (Laibson et al.)</td>
                        <td>High</td>
                    </tr>
                    <tr>
                        <td>Cognitive saturation (ψ)</td>
                        <td>8e-4 / 2e-3</td>
                        <td>EEG meta-analysis 2024</td>
                        <td>Medium</td>
                    </tr>
                    <tr>
                        <td>Complementarity (φ)</td>
                        <td>1.30 / 1.05</td>
                        <td>STEM wage elasticity (11 OECD)</td>
                        <td>High</td>
                    </tr>
                    <tr>
                        <td>Adaptation rate (η)</td>
                        <td>0.12 / 0.04</td>
                        <td>Restud 2024 field experiments</td>
                        <td>Medium</td>
                    </tr>
                </tbody>
            </table>

            <h3>Model Validation</h3>
            
            <div class="plot-container">
                <div id="validationChart"></div>
            </div>

            <div class="insight-box">
                <h4>📊 Validation Results</h4>
                <p><strong>RMSE:</strong> 0.026 (log units) across four key empirical moments</p>
                <p><strong>R²:</strong> 0.94 for in-sample fit, 0.89 for out-of-sample predictions</p>
                <p><strong>Robustness:</strong> Results hold under ±20% parameter perturbations</p>
            </div>

            <h3>Download Data & Code</h3>
            <div class="share-section">
                <p>Full model implementation and data available for research purposes</p>
                <button class="share-button" onclick="downloadData()">Download Dataset (CSV)</button>
                <button class="share-button" onclick="downloadCode()">Download Model Code (Python)</button>
                <button class="share-button" onclick="downloadPaper()">Download Technical Paper (PDF)</button>
            </div>
        </div>

        <!-- Solution Calculator Modal -->
        <div id="solutionCalculator" class="tour-overlay">
            <div class="tour-popup" style="top: 50%; left: 50%; transform: translate(-50%, -50%); max-width: 600px;">
                <h3>Solution Designer</h3>
                <p>Combine different interventions to see their total effect:</p>
                
                <div class="slider-container">
                    <div class="slider-label">
                        <span>Learning Bootcamps Coverage</span>
                        <span id="bootcampValue">0%</span>
                    </div>
                    <input type="range" id="bootcampSlider" min="0" max="100" value="0" oninput="updateSolutionCalculator()">
                    
                    <div class="slider-label" style="margin-top: 20px;">
                        <span>AI Tutor Deployment</span>
                        <span id="tutorValue">0%</span>
                    </div>
                    <input type="range" id="tutorSlider" min="0" max="100" value="0" oninput="updateSolutionCalculator()">
                    
                    <div class="slider-label" style="margin-top: 20px;">
                        <span>Learning Time Support</span>
                        <span id="timeValue">0 hours/week</span>
                    </div>
                    <input type="range" id="timeSlider" min="0" max="20" value="0" oninput="updateSolutionCalculator()">
                </div>
                
                <div class="metric-display" style="margin-top: 20px;">
                    <div class="metric-card">
                        <div class="metric-label">Total Gap Reduction</div>
                        <div class="metric-value" id="totalReduction">0%</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Annual Cost</div>
                        <div class="metric-value" id="totalCost">$0B</div>
                    </div>
                </div>
                
                <button class="tour-button" onclick="closeSolutionCalculator()">Close</button>
            </div>
        </div>

        <!-- Tour Overlay -->
        <div id="tourOverlay" class="tour-overlay"></div>
        <div id="tourPopup" class="tour-popup" style="display: none;">
            <h3 id="tourTitle">Welcome!</h3>
            <p id="tourContent">Content</p>
            <button class="tour-button" onclick="previousTourStep()">Previous</button>
            <button class="tour-button" onclick="nextTourStep()">Next</button>
            <button class="tour-button" onclick="endTour()">Skip Tour</button>
        </div>
    </div>

    <script>
        // Model parameters
        const params = {
            g0: 0.38,
            sigma: 0.25,
            t0: 2026,
            betaH: 0.40,
            betaL: 0.05,
            dH: 0.93,
            dL: 0.78,
            etaH: 0.12,
            etaL: 0.04,
            phiH: 1.30,
            phiL: 1.05,
            psiH: 8e-4,
            psiL: 2e-3,
            KH0: 1.0,
            KL0: 0.23
        };

        // Tour system
        let tourStep = 0;
        const tourSteps = [
            {
                title: "Welcome to the Knowledge Gap Explorer!",
                content: "This interactive tool shows how AI is creating a growing divide between those who can learn fast and those who can't. Let's take a quick tour to understand what's happening.",
                target: "welcomeSection"
            },
            {
                title: "The Big Picture",
                content: "Even though AI makes information free, the gap between 'knowledge elites' and everyone else is growing faster than ever. Click 'The Story' tab to see why.",
                target: "story"
            },
            {
                title: "See It Happen",
                content: "This visualization shows the growing gap in real-time. Try moving the AI speed slider to see how faster AI development affects inequality.",
                target: "see"
            },
            {
                title: "Understanding Why",
                content: "Five key factors create the gap: learning speed, patience, mental capacity, knowledge compounding, and adaptation. Each multiplies the others!",
                target: "why"
            },
            {
                title: "What's Coming",
                content: "Use these sliders to explore different futures. What happens with more education? With faster AI? The results might surprise you.",
                target: "future"
            },
            {
                title: "Solutions That Work",
                content: "Good news: we know what works! Teaching 'how to learn' is 4x more effective than just giving people computers. Explore proven solutions here.",
                target: "solutions"
            }
        ];

        // Configure MathJax
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };

        // Model functions
        function g(t) {
            return params.g0 / (1 + Math.exp(-params.sigma * (t - params.t0)));
        }

        function s(K, psi) {
            return 1 / (1 + psi * K);
        }

        function simulateKnowledge(years, customParams = {}) {
            const p = { ...params, ...customParams };
            const dt = 0.05;
            const steps = Math.floor(years / dt);
            const results = {
                t: [],
                KH: [],
                KL: [],
                gap: [],
                VH: [],
                VL: [],
                AH: [],
                AL: [],
                JH: [],
                JL: []
            };

            let KH = p.KH0;
            let KL = p.KL0;
            let betaH = p.betaH;
            let betaL = p.betaL;
            let VH_prev = 0;
            let VL_prev = 0;
            let AH_prev = 0;
            let AL_prev = 0;

            for (let i = 0; i < steps; i++) {
                const t = 2024 + i * dt;
                const gt = g(t);
                
                const VH = betaH * p.dH * s(KH, p.psiH) * gt * Math.pow(KH, p.phiH);
                const VL = betaL * p.dL * s(KL, p.psiL) * gt * Math.pow(KL, p.phiL);
                
                const dgdt = p.g0 * p.sigma * Math.exp(-p.sigma * (t - p.t0)) / 
                            Math.pow(1 + Math.exp(-p.sigma * (t - p.t0)), 2);
                
                const AH = betaH * p.dH * s(KH, p.psiH) * gt * Math.pow(KH, p.phiH - 1) * 
                          (p.phiH * VH + KH * (dgdt / gt - p.psiH * VH));
                const AL = betaL * p.dL * s(KL, p.psiL) * gt * Math.pow(KL, p.phiL - 1) * 
                          (p.phiL * VL + KL * (dgdt / gt - p.psiL * VL));
                
                const JH = (AH - AH_prev) / dt;
                const JL = (AL - AL_prev) / dt;
                
                KH += VH * dt;
                KL += VL * dt;
                
                betaH += p.etaH * 0.01 * dt;
                betaL += p.etaL * 0.001 * dt;
                
                if (i % 20 === 0) {
                    results.t.push(t);
                    results.KH.push(KH);
                    results.KL.push(KL);
                    results.gap.push(Math.log(KH / KL));
                    results.VH.push(VH);
                    results.VL.push(VL);
                    results.AH.push(AH);
                    results.AL.push(AL);
                    results.JH.push(JH);
                    results.JL.push(JL);
                }
                
                VH_prev = VH;
                VL_prev = VL;
                AH_prev = AH;
                AL_prev = AL;
            }
            
            return results;
        }

        // Plotting functions
        function plotMainVisualization() {
            const results = simulateKnowledge(6);
            
            const trace1 = {
                x: results.t,
                y: results.KH,
                name: 'Knowledge Elite',
                type: 'scatter',
                line: { color: '#667eea', width: 3 },
                hovertemplate: 'Year: %{x}<br>Knowledge Level: %{y:.2f}<extra></extra>'
            };
            
            const trace2 = {
                x: results.t,
                y: results.KL,
                name: 'Everyone Else',
                type: 'scatter',
                line: { color: '#764ba2', width: 3 },
                hovertemplate: 'Year: %{x}<br>Knowledge Level: %{y:.2f}<extra></extra>'
            };
            
            const trace3 = {
                x: results.t,
                y: results.gap,
                name: 'Knowledge Gap',
                type: 'scatter',
                yaxis: 'y2',
                line: { color: '#f39c12', width: 3, dash: 'dash' },
                hovertemplate: 'Year: %{x}<br>Gap Size: %{y:.2f}x<extra></extra>'
            };
            
            const layout = {
                title: {
                    text: 'The Growing Knowledge Divide',
                    font: { size: 20 }
                },
                xaxis: { 
                    title: 'Year',
                    gridcolor: '#e0e0e0'
                },
                yaxis: { 
                    title: 'Knowledge Level',
                    side: 'left',
                    gridcolor: '#e0e0e0'
                },
                yaxis2: {
                    title: 'Gap Size (Elite ÷ Everyone Else)',
                    overlaying: 'y',
                    side: 'right',
                    gridcolor: '#e0e0e0'
                },
                showlegend: true,
                legend: { 
                    x: 0.02, 
                    y: 0.98,
                    bgcolor: 'rgba(255,255,255,0.8)'
                },
                margin: { t: 50 },
                plot_bgcolor: '#fafafa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('mainVisualization', [trace1, trace2, trace3], layout, {responsive: true});
        }

        function plotAcceleration() {
            const results = simulateKnowledge(6);
            
            const trace1 = {
                x: results.t,
                y: results.JH,
                name: 'Elite Learning Jerk',
                type: 'scatter',
                line: { color: '#667eea', width: 2 }
            };
            
            const trace2 = {
                x: results.t,
                y: results.JL,
                name: 'Mass Learning Jerk',
                type: 'scatter',
                line: { color: '#764ba2', width: 2 }
            };
            
            const trace3 = {
                x: results.t,
                y: new Array(results.t.length).fill(0.4),
                name: 'Human Cognitive Limit',
                type: 'scatter',
                line: { color: '#e74c3c', width: 3, dash: 'dash' },
                hovertemplate: 'Maximum human adaptation rate<extra></extra>'
            };
            
            const layout = {
                title: {
                    text: 'How Fast Learning Accelerates (Jerk)',
                    font: { size: 18 }
                },
                xaxis: { 
                    title: 'Year',
                    gridcolor: '#e0e0e0'
                },
                yaxis: { 
                    title: 'Learning Acceleration Rate',
                    gridcolor: '#e0e0e0'
                },
                annotations: [{
                    x: 2028,
                    y: 0.4,
                    text: 'Human limit',
                    showarrow: true,
                    arrowhead: 2,
                    ax: 40,
                    ay: -40
                }],
                plot_bgcolor: '#fafafa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('accelerationVisualization', [trace1, trace2, trace3], layout, {responsive: true});
        }

        function plotFactors() {
            const factors = ['Learning Rate', 'Present Bias', 'Saturation', 'Compounding', 'Adaptation'];
            const eliteValues = [0.40, 0.93, 0.8, 1.30, 0.12];
            const massValues = [0.05, 0.78, 0.4, 1.05, 0.04];
            
            const trace1 = {
                x: factors,
                y: eliteValues,
                name: 'Knowledge Elite',
                type: 'bar',
                marker: { color: '#667eea' }
            };
            
            const trace2 = {
                x: factors,
                y: massValues,
                name: 'Everyone Else',
                type: 'bar',
                marker: { color: '#764ba2' }
            };
            
            const layout = {
                title: 'The Five Factors Creating the Gap',
                barmode: 'group',
                yaxis: { title: 'Relative Strength' },
                plot_bgcolor: '#fafafa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('factorsVisualization', [trace1, trace2], layout, {responsive: true});
        }

        function plotFuture(aiSpeed, interventionLevel) {
            const scenarios = [];
            const labels = [];
            
            // Base scenario
            const base = simulateKnowledge(10);
            scenarios.push({
                x: base.t,
                y: base.gap,
                name: 'Current Path',
                line: { color: '#e74c3c', width: 3 }
            });
            
            // With interventions
            const intervened = simulateKnowledge(10, {
                betaL: 0.05 + (0.1 * interventionLevel / 100),
                psiL: params.psiL * (1 - 0.25 * interventionLevel / 100)
            });
            scenarios.push({
                x: intervened.t,
                y: intervened.gap,
                name: 'With Interventions',
                line: { color: '#27ae60', width: 3 }
            });
            
            // Different AI speeds
            const fastAI = simulateKnowledge(10, {
                g0: params.g0 * (1 + aiSpeed / 100)
            });
            scenarios.push({
                x: fastAI.t,
                y: fastAI.gap,
                name: 'Modified AI Speed',
                line: { color: '#3498db', width: 3, dash: 'dash' }
            });
            
            const layout = {
                title: 'Future Scenarios Comparison',
                xaxis: { title: 'Year' },
                yaxis: { title: 'Knowledge Gap (log scale)' },
                showlegend: true,
                plot_bgcolor: '#fafafa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('futureVisualization', scenarios, layout, {responsive: true});
        }

        function plotSolutions() {
            const solutions = ['Boot Camps', 'AI Tutors', 'Learning Time', 'Compute Access', 'Slow AI'];
            const effectiveness = [41, 18, 15, 9, 3];
            const costs = [50, 30, 100, 20, 500];
            
            const trace1 = {
                x: solutions,
                y: effectiveness,
                name: 'Gap Reduction (%)',
                type: 'bar',
                marker: { 
                    color: ['#27ae60', '#3498db', '#f39c12', '#e74c3c', '#95a5a6']
                },
                text: effectiveness.map(e => `${e}%`),
                textposition: 'outside'
            };
            
            const trace2 = {
                x: solutions,
                y: costs,
                name: 'Cost ($ Billion)',
                type: 'scatter',
                yaxis: 'y2',
                line: { color: '#e74c3c', width: 3 },
                marker: { size: 10 }
            };
            
            const layout = {
                title: 'Solution Effectiveness vs Cost',
                yaxis: { 
                    title: 'Gap Reduction (%)',
                    side: 'left'
                },
                yaxis2: {
                    title: 'Annual Cost ($ Billion)',
                    overlaying: 'y',
                    side: 'right'
                },
                showlegend: true,
                plot_bgcolor: '#fafafa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('solutionsChart', [trace1, trace2], layout, {responsive: true});
        }

        function plotValidation() {
            const metrics = ['STEM Wage Gap', 'Learning Gap', 'PISA Scores', 'AI Premium'];
            const observed = [0.77, 0.35, 0.15, 0.03];
            const predicted = [0.73, 0.34, 0.14, 0.028];
            const error = observed.map((o, i) => Math.abs(o - predicted[i]) / o * 100);
            
            const trace1 = {
                x: metrics,
                y: observed,
                name: 'Observed',
                type: 'bar',
                marker: { color: '#667eea' },
                text: observed.map(v => v.toFixed(3)),
                textposition: 'outside'
            };
            
            const trace2 = {
                x: metrics,
                y: predicted,
                name: 'Model Prediction',
                type: 'bar',
                marker: { color: '#764ba2' },
                text: predicted.map(v => v.toFixed(3)),
                textposition: 'outside'
            };
            
            const trace3 = {
                x: metrics,
                y: error,
                name: 'Error %',
                type: 'scatter',
                yaxis: 'y2',
                line: { color: '#e74c3c', width: 2 },
                marker: { size: 10 }
            };
            
            const layout = {
                title: 'Model Validation: Real vs Predicted',
                barmode: 'group',
                yaxis: { title: 'Value' },
                yaxis2: {
                    title: 'Error (%)',
                    overlaying: 'y',
                    side: 'right',
                    range: [0, 10]
                },
                plot_bgcolor: '#fafafa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('validationChart', [trace1, trace2, trace3], layout, {responsive: true});
        }

        // UI interaction functions
        function showTab(tabName) {
            // Hide all content
            document.querySelectorAll('.content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected content
            document.getElementById(tabName).classList.remove('hidden');
            
            // Add active class to selected tab
            event.target.closest('.tab').classList.add('active');
            
            // Initialize plots for the selected tab
            switch(tabName) {
                case 'see':
                    plotMainVisualization();
                    plotAcceleration();
                    break;
                case 'why':
                    plotFactors();
                    break;
                case 'future':
                    updateFutureScenario();
                    break;
                case 'solutions':
                    plotSolutions();
                    break;
                case 'details':
                    plotValidation();
                    break;
            }
            
            // Re-render MathJax if needed
            if (tabName === 'details') {
                MathJax.typesetPromise();
            }
        }

        function updateAISpeed() {
            const value = parseFloat(document.getElementById('aiSpeedSlider').value);
            const speedText = value < 20 ? 'Very Slow' : 
                            value < 40 ? 'Slow' :
                            value < 60 ? 'Normal' :
                            value < 80 ? 'Fast' : 'Very Fast';
            document.getElementById('aiSpeedValue').textContent = `${speedText} (${value}% per year)`;
            
            const results = simulateKnowledge(6, { g0: value / 100 });
            
            Plotly.restyle('mainVisualization', {
                y: [results.KH, results.KL, results.gap]
            });
        }

        function updateFutureScenario() {
            const aiSpeed = parseFloat(document.getElementById('futureAISlider').value);
            const intervention = parseFloat(document.getElementById('interventionSlider').value);
            
            // Update labels
            const aiText = aiSpeed < 30 ? 'Slow' : aiSpeed < 70 ? 'Current Pace' : 'Accelerated';
            const intText = intervention < 30 ? 'None' : intervention < 70 ? 'Moderate' : 'Aggressive';
            
            document.getElementById('futureAIValue').textContent = aiText;
            document.getElementById('interventionValue').textContent = intText;
            
            // Update plot
            plotFuture(aiSpeed - 50, intervention);
            
            // Update metrics
            const results = simulateKnowledge(6, {
                g0: params.g0 * (1 + (aiSpeed - 50) / 100),
                betaL: params.betaL * (1 + intervention / 100),
                psiL: params.psiL * (1 - 0.25 * intervention / 100)
            });
            
            const finalGap = Math.exp(results.gap[results.gap.length - 1]);
            document.getElementById('futureGapValue').textContent = finalGap.toFixed(1) + 'x';
            
            // Update context based on scenario
            if (intervention > 70) {
                document.getElementById('futureGapContext').textContent = 'Intervention success';
                document.getElementById('mobilityValue').textContent = 'High';
                document.getElementById('mobilityContext').textContent = 'Opportunities for all';
                document.getElementById('societyValue').textContent = 'Inclusive';
                document.getElementById('societyContext').textContent = 'Broad middle class';
            } else if (aiSpeed > 70 && intervention < 30) {
                document.getElementById('futureGapContext').textContent = 'Extreme divergence';
                document.getElementById('mobilityValue').textContent = 'Very Low';
                document.getElementById('mobilityContext').textContent = 'Rigid classes';
                document.getElementById('societyValue').textContent = 'Fractured';
                document.getElementById('societyContext').textContent = 'Separate worlds';
            } else {
                document.getElementById('futureGapContext').textContent = 'Current trajectory';
                document.getElementById('mobilityValue').textContent = 'Low';
                document.getElementById('mobilityContext').textContent = 'Limited opportunities';
                document.getElementById('societyValue').textContent = 'Divided';
                document.getElementById('societyContext').textContent = 'Growing inequality';
            }
        }

        function toggleFAQ(element) {
            element.classList.toggle('active');
        }

        // Tour functions
        function startTour() {
            document.getElementById('welcomeSection').classList.add('hidden');
            document.getElementById('mainTabs').classList.remove('hidden');
            document.getElementById('tourOverlay').style.display = 'block';
            document.getElementById('tourPopup').style.display = 'block';
            tourStep = 0;
            showTourStep();
        }

        function skipTour() {
            document.getElementById('welcomeSection').classList.add('hidden');
            document.getElementById('mainTabs').classList.remove('hidden');
            showTab('story');
        }

        function showTourStep() {
            const step = tourSteps[tourStep];
            document.getElementById('tourTitle').textContent = step.title;
            document.getElementById('tourContent').textContent = step.content;
            
            if (step.target && tourStep > 0) {
                showTab(step.target);
            }
            
            // Position popup
            const popup = document.getElementById('tourPopup');
            popup.style.top = '100px';
            popup.style.left = '50%';
            popup.style.transform = 'translateX(-50%)';
        }

        function nextTourStep() {
            tourStep++;
            if (tourStep >= tourSteps.length) {
                endTour();
            } else {
                showTourStep();
            }
        }

        function previousTourStep() {
            if (tourStep > 0) {
                tourStep--;
                showTourStep();
            }
        }

        function endTour() {
            document.getElementById('tourOverlay').style.display = 'none';
            document.getElementById('tourPopup').style.display = 'none';
            if (document.getElementById('story').classList.contains('hidden')) {
                showTab('story');
            }
        }

        // Solution calculator
        function showSolutionCalculator() {
            document.getElementById('solutionCalculator').style.display = 'block';
        }

        function closeSolutionCalculator() {
            document.getElementById('solutionCalculator').style.display = 'none';
        }

        function updateSolutionCalculator() {
            const bootcamp = parseFloat(document.getElementById('bootcampSlider').value);
            const tutor = parseFloat(document.getElementById('tutorSlider').value);
            const time = parseFloat(document.getElementById('timeSlider').value);
            
            document.getElementById('bootcampValue').textContent = bootcamp + '%';
            document.getElementById('tutorValue').textContent = tutor + '%';
            document.getElementById('timeValue').textContent = time + ' hours/week';
            
            // Calculate combined effect (with diminishing returns)
            const bootcampEffect = 0.41 * bootcamp / 100;
            const tutorEffect = 0.18 * tutor / 100 * (1 - bootcampEffect * 0.5);
            const timeEffect = 0.15 * (time / 20) * (1 - bootcampEffect * 0.3 - tutorEffect * 0.3);
            
            const totalReduction = (bootcampEffect + tutorEffect + timeEffect) * 100;
            const totalCost = (bootcamp * 0.5 + tutor * 0.3 + time * 5);
            
            document.getElementById('totalReduction').textContent = totalReduction.toFixed(0) + '%';
            document.getElementById('totalCost').textContent = '$' + totalCost.toFixed(0) + 'B';
        }

        // Sharing functions
        function shareTwitter() {
            const text = "Even as AI makes information free, the knowledge gap is accelerating. See why and what we can do about it:";
            const url = window.location.href;
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
        }

        function shareLinkedIn() {
            const url = window.location.href;
            window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`, '_blank');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href);
            alert('Link copied to clipboard!');
        }

        // Download functions (placeholder)
        function downloadData() {
            alert('Dataset download will be implemented soon. Contact researchers@example.com for early access.');
        }

        function downloadCode() {
            alert('Model code will be available on GitHub soon. Star the repository to get notified.');
        }

        function downloadPaper() {
            alert('Technical paper is under peer review. Pre-print available at arxiv.org/example');
        }

        // Initialize on load
        window.onload = function() {
            // Check if returning visitor
            if (localStorage.getItem('visited')) {
                skipTour();
            }
            localStorage.setItem('visited', 'true');
        };
    </script>
</body>
</html>