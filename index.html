<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The AI Disruption: Who's Really Winning and Losing</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
            color: #2c3e50;
            line-height: 1.8;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin: -20px -20px 30px -20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .header h1 {
            margin: 0;
            font-size: 2.8em;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .header p {
            margin: 15px auto 0;
            font-size: 1.3em;
            opacity: 0.95;
            max-width: 800px;
            line-height: 1.6;
        }
        .intro-section {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .intro-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
        }
        .big-idea {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f2ff 100%);
            border-left: 5px solid #667eea;
            padding: 25px;
            margin: 30px 0;
            border-radius: 8px;
            font-size: 1.2em;
        }
        .story-box {
            background: #fff8e1;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .story-box h3 {
            color: #f57c00;
            margin-top: 0;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .tab {
            padding: 14px 28px;
            background: white;
            border: 2px solid #e0e6ed;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            position: relative;
        }
        .tab:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        .tab-description {
            font-size: 0.85em;
            font-weight: normal;
            opacity: 0.8;
        }
        .content {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            min-height: 600px;
        }
        .plot-container {
            margin: 30px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .explanation-box {
            background: #e3f2fd;
            border: 1px solid #64b5f6;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .explanation-box h4 {
            color: #1976d2;
            margin-top: 0;
        }
        .equation-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
            overflow-x: auto;
        }
        .equation-explanation {
            background: #e8eaf6;
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            font-size: 0.95em;
        }
        .real-world-example {
            background: #f3e5f5;
            border: 2px solid #ab47bc;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .real-world-example h4 {
            color: #7b1fa2;
            margin-top: 0;
        }
        .interactive-guide {
            background: linear-gradient(45deg, #26a69a, #66bb6a);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .guide-button {
            background: white;
            color: #26a69a;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }
        .guide-button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .metric-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        .metric-card:hover {
            transform: translateY(-5px);
        }
        .metric-value {
            font-size: 2.5em;
            font-weight: 700;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 1em;
            opacity: 0.9;
        }
        .metric-context {
            font-size: 0.9em;
            margin-top: 10px;
            opacity: 0.85;
        }
        .slider-container {
            margin: 25px 0;
            padding: 20px;
            background: #f5f7fa;
            border-radius: 8px;
        }
        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
        }
        .slider-description {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 10px;
        }
        input[type="range"] {
            width: 100%;
            margin: 10px 0;
            height: 8px;
            border-radius: 4px;
            background: #ddd;
            outline: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }
        .insight-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .insight-box h4 {
            color: #856404;
            margin-top: 0;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 2px dotted #667eea;
            cursor: help;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 300px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        .faq-section {
            margin: 30px 0;
        }
        .faq-item {
            background: #f8f9fa;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .faq-item:hover {
            background: #e9ecef;
        }
        .faq-question {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
        }
        .faq-answer {
            display: none;
            padding-top: 10px;
        }
        .faq-item.active .faq-answer {
            display: block;
        }
        .tour-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            z-index: 1000;
        }
        .tour-popup {
            position: fixed;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-width: 500px;
            z-index: 1001;
        }
        .tour-button {
            background: #667eea;
            color: white;
            padding: 10px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
        }
        .tour-button:hover {
            background: #5a67d8;
        }
        .hidden {
            display: none;
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e6ed;
        }
        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .share-section {
            background: #f0f4f8;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin: 30px 0;
        }
        .share-button {
            background: #667eea;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            margin: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .share-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>The AI Employment Catastrophe</h1>
            <p>67% Have Job Anxiety ‚Ä¢ 39% of Skills Obsolete by 2030 ‚Ä¢ No Safety Net Coming</p>
        </div>

        <!-- Welcome Section -->
        <div class="intro-section" id="welcomeSection">
            <h2>üéØ What's This About?</h2>
            <p>Imagine if tomorrow, every book, course, and piece of knowledge became completely free. Would everyone become equally educated? The empirical data from 2024-2025 reveals a harsh truth.</p>
            
            <div class="big-idea">
                <strong>The Reality:</strong> AI isn't creating a simple rich/poor divide. It's causing a mental health epidemic (67% job anxiety), geographic clustering (AI deserts forming), and permanent underclass formation. 230,831 tech workers laid off. Only 36.9% of AI-displaced workers find jobs within 3 months. The window is slamming shut.
            </div>

            <div class="story-box">
                <h3>üìñ The Real Story</h3>
                <p>The Prompt Engineering Bubble burst. What was hyped at 144 searches/million in 2023 crashed to 20-30. Agriculture surprised everyone - expecting automation, it's growing 30% by 2028. But the real shock: AI-displaced workers are 2x more likely to remain unemployed for over a year. Geographic AI clusters in Nashville, San Antonio, Las Vegas are thriving while rural "AI deserts" with 39% less broadband access fall permanently behind.</p>
            </div>

            <div class="interactive-guide">
                <h3>Ready to Understand Why?</h3>
                <p>Take a quick guided tour to see the data, or explore on your own</p>
                <button class="guide-button" onclick="startTour()">üöÄ Start Guided Tour (2 min)</button>
                <button class="guide-button" onclick="skipTour()">üìä Explore On My Own</button>
            </div>
            
            <div class="big-idea" style="margin-top: 30px; background: #ffebee; border-color: #f44336;">
                <strong>‚ö†Ô∏è The 2025 Reality Check:</strong>
                <ul style="margin: 10px 0;">
                    <li><strong>67%</strong> of workers have AI job anxiety (mental health crisis)</li>
                    <li><strong>17%</strong> success rate for government retraining (it's not working)</li>
                    <li><strong>2.5 years</strong> until your skills are obsolete (was 10-15)</li>
                    <li><strong>36.9%</strong> of AI-displaced workers find jobs in 3 months (vs 46.2% others)</li>
                    <li><strong>Zero</strong> federal protection coming (40 states, 40 different laws)</li>
                </ul>
            </div>
        </div>

        <div class="tabs hidden" id="mainTabs">
            <div class="tab active" onclick="showTab('story')">
                The Story
                <div class="tab-description">What's happening</div>
            </div>
            <div class="tab" onclick="showTab('see')">
                See It Happen
                <div class="tab-description">Live visualization</div>
            </div>
            <div class="tab" onclick="showTab('why')">
                Why It Happens
                <div class="tab-description">The factors</div>
            </div>
            <div class="tab" onclick="showTab('future')">
                Future Scenarios
                <div class="tab-description">What's coming</div>
            </div>
            <div class="tab" onclick="showTab('visualize3d')">
                3D Visualization
                <div class="tab-description">See the divide</div>
            </div>
            <div class="tab" onclick="showTab('reality')">
                The Reality
                <div class="tab-description">No easy fixes</div>
            </div>
            <div class="tab" onclick="showTab('details')">
                Technical Details
                <div class="tab-description">For researchers</div>
            </div>
        </div>

        <!-- The Story Tab -->
        <div id="story" class="content hidden">
            <h2>The Knowledge Gap Story</h2>
            
            <div class="metric-display">
                <div class="metric-card">
                    <div class="metric-label">Tech Layoffs 2024-25</div>
                    <div class="metric-value">230,831</div>
                    <div class="metric-context">136k (2024) + 94k (H1 2025)</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Journalism Jobs Lost</div>
                    <div class="metric-value">2,700+</div>
                    <div class="metric-context">2.5 newspapers closing weekly</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Legal AI Adoption</div>
                    <div class="metric-value">19% ‚Üí 79%</div>
                    <div class="metric-context">In just one year (2023-24)</div>
                </div>
                <div class="metric-card pulse">
                    <div class="metric-label">Mental Health Crisis</div>
                    <div class="metric-value">67%</div>
                    <div class="metric-context">Workers with AI job anxiety</div>
                </div>
            </div>

            <h3>What the Data Actually Shows</h3>
            <p>Empirical data from BLS, World Economic Forum, industry reports, and verified studies (2024-2025) reveals:</p>
            
            <div class="insight-box">
                <h4>üí° Key Insight: The Skills Half-Life Collapse</h4>
                <p>Technical skills now obsolete in 2.5 years (was 10-15). Degrees worthless before loans paid off. 40% of workforce needs complete reskilling within 3 years. Government retraining programs: 17% success rate. Bootcamps: 67% placement but at 30% lower wages. Only apprenticeships work (78% success) but they're rare.</p>
            </div>

            <h3>The Three Speed Limits</h3>
            <div class="real-world-example">
                <h4>üèÉ‚Äç‚ôÇÔ∏è The Geographic Clustering Effect</h4>
                <p><strong>AI Clusters:</strong> Nashville, San Antonio, Las Vegas - unexpected tech hubs emerging</p>
                <p><strong>AI Deserts:</strong> Rural areas with 39% less broadband - falling permanently behind</p>
                <p><strong>State Chaos:</strong> 40 states with different AI laws creating regulatory nightmare</p>
                <p><strong>Education Failure:</strong> Only 24% of teachers feel AI-competent, 69% of schools lack AI policies</p>
                <p>Kids are learning AI from YouTube, not schools. 32 states report severe STEM teacher shortages.</p>
            </div>

            <div class="faq-section">
                <h3>Common Questions</h3>
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">‚ùì But isn't free information good for equality?</div>
                    <div class="faq-answer">
                        That was the promise. Reality: The Middle Management Massacre - 69% of managerial tasks automated by end of 2024. Entry-level jobs could drop 50% in 5 years. Career ladders completely broken. C-suite optimistic while middle management faces doom. Banks saving $70 billion through automation. AI companies paying 25% wage premium while traditional workers face permanent underclass status.
                    </div>
                </div>
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">‚ùì Who's actually winning with AI?</div>
                    <div class="faq-answer">
                        Surprising Winners: Agriculture (30% job growth by 2028), healthcare (adding 15M workers), ambitious non-technical entrepreneurs. Surprising Losers: Prompt engineers (bubble burst from 144 to 20-30 searches/million), senior developers with 20+ years experience, middle managers (69% of tasks automated), perfectionists who can't ship "good enough". The paradox: Entry-level jobs vanishing while experience becomes a liability.
                    </div>
                </div>
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">‚ùì Is this gap reversible?</div>
                    <div class="faq-answer">
                        No. Government response vacuum - US has 40 states with conflicting AI bills, no federal protection. EU leading with AI Act, US lagging. Workers have zero protection. The reemployment reality: AI-displaced workers 2x more likely to be unemployed 1+ year, 58% must completely change careers at 30% pay cuts. Mental health crisis exploding - new "Automation Anxiety Disorder" being studied. Political powder keg forming with rising populism in displaced regions.
                    </div>
                </div>
            </div>
        </div>

        <!-- See It Happen Tab -->
        <div id="see" class="content hidden">
            <h2>Watch the Gap Grow in Real-Time</h2>
            
            <div class="explanation-box">
                <h4>üìä What This Graph Shows</h4>
                <p><strong>Blue area:</strong> People who quickly adopt AI tools - their income grows exponentially as they leverage AI for 10x, 100x, even 1000x productivity gains.</p>
                <p><strong>Purple area:</strong> Traditional workers who resist AI or adapt slowly - their income stagnates or declines as their skills become automated.</p>
                <p><strong>Red dotted line:</strong> The multiplier showing how many times more AI adapters earn. By 2030, it could be 5-10x difference.</p>
                <p><strong>Why it matters:</strong> This isn't gradual change - it's exponential divergence. Small differences in adaptation speed today become massive income gaps tomorrow.</p>
            </div>

            <div class="plot-container">
                <div id="mainVisualization"></div>
            </div>

            <div class="slider-container">
                <div class="slider-description">
                    üéÆ <strong>Try This:</strong> Adjust how fast AI is improving to see how it affects the gap
                </div>
                <div class="slider-label">
                    <span>AI Progress Speed</span>
                    <span id="aiSpeedValue">Normal (38% per year)</span>
                </div>
                <input type="range" id="aiSpeedSlider" min="0" max="100" value="38" oninput="updateAISpeed()">
                <p style="font-size: 0.9em; color: #666;">üëà Slower AI progress &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Faster AI progress üëâ</p>
            </div>

            <div class="insight-box">
                <h4>üîç What to Notice</h4>
                <ul>
                    <li>Traditional experts (developers, artists) are declining</li>
                    <li>Ambitious non-experts are rising exponentially</li>
                    <li>The divide is about adaptability, not education</li>
                    <li>Speed beats expertise in the AI era</li>
                </ul>
            </div>

            <h3>The Acceleration Problem</h3>
            <div class="plot-container">
                <div id="accelerationVisualization"></div>
            </div>

            <div class="explanation-box">
                <h4>üöÄ Why This Matters</h4>
                <p><strong>The brutal reality:</strong> Your skills are decaying faster than you can learn new ones. The red area shows your current expertise losing value. The blue line shows AI getting exponentially better. The green dashed line? That's the maximum speed humans can possibly adapt - and it's not fast enough.</p>
                <p><strong>The "Death Cross":</strong> Around 2026-2027, AI capabilities cross above most people's skill relevance. After this point, catching up becomes nearly impossible because AI improves faster than humans can learn.</p>
            </div>
        </div>

        <!-- Why It Happens Tab -->
        <div id="why" class="content hidden">
            <h2>Why The Gap Keeps Growing</h2>
            
            <div class="real-world-example">
                <h4>üí• The Disruption Reality</h4>
                <p>What's actually happening with AI tools:</p>
                <ul>
                    <li><strong>Traditional Expert:</strong> 10 years experience, advanced degree ‚Üí Skills becoming commoditized, wages stagnating</li>
                    <li><strong>Ambitious Beginner:</strong> No credentials, learns fast ‚Üí Builds products that compete with experts, bypasses gatekeepers</li>
                </ul>
                <p>AI costs dropped 280x in 18 months. The playing field isn't level - it's been dynamited.</p>
            </div>

            <h3>AI Impact by Industry: Winners and Losers (2024-2025 Data)</h3>
            
            <table>
                <thead>
                    <tr>
                        <th>Industry</th>
                        <th>Current Impact</th>
                        <th>Key Statistics</th>
                        <th>Future Outlook</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="tooltip">Software Development<span class="tooltiptext">Developers, programmers, engineers</span></span></td>
                        <td>Massive layoffs despite growth projections</td>
                        <td>230k+ laid off; 80% using AI tools</td>
                        <td>17% growth (BLS) vs reality of cuts</td>
                    </tr>
                    <tr>
                        <td><span class="tooltip">Journalism/Writing<span class="tooltiptext">Reporters, editors, content creators</span></span></td>
                        <td>Industry collapsing</td>
                        <td>2,700 jobs cut; 2/3 journalists gone</td>
                        <td>Continued decline</td>
                    </tr>
                    <tr>
                        <td><span class="tooltip">Legal Services<span class="tooltiptext">Lawyers, paralegals, legal support</span></span></td>
                        <td>Rapid AI adoption</td>
                        <td>19%‚Üí79% AI use in 1 year</td>
                        <td>44% of work automatable</td>
                    </tr>
                    <tr>
                        <td><span class="tooltip">Healthcare<span class="tooltiptext">Doctors, nurses, medical staff</span></span></td>
                        <td>AI augmenting, not replacing</td>
                        <td>80% hospitals using AI; 66% doctors</td>
                        <td>$431B market by 2032</td>
                    </tr>
                    <tr>
                        <td><span class="tooltip">Education<span class="tooltiptext">Teachers, professors, trainers</span></span></td>
                        <td>Protected but stressed</td>
                        <td>51k teachers quit in one month</td>
                        <td>AI as tool, not replacement</td>
                    </tr>
                    <tr>
                        <td><span class="tooltip">Design<span class="tooltiptext">UI/UX, graphic, product designers</span></span></td>
                        <td>Market oversaturated</td>
                        <td>Significant job listing decline</td>
                        <td>Unclear trajectory</td>
                    </tr>
                </tbody>
            </table>

            <div class="plot-container">
                <div id="factorsVisualization"></div>
            </div>

            <h3>Real-World Examples</h3>
            
            <div class="story-box">
                <h3>üìä Industry Impact: The Hard Numbers</h3>
                <p><strong>Tech Industry (2024-2025):</strong></p>
                <ul>
                    <li>230,831 total layoffs (136k in 2024, 94k in H1 2025)</li>
                    <li>80%+ developers using GitHub Copilot - coding 55% faster</li>
                    <li>Entry-level hiring down 25% at Big Tech</li>
                    <li>BLS projects 17% growth BUT reality shows massive cuts</li>
                </ul>
                <p><strong>Media & Creative (2023-2024):</strong></p>
                <ul>
                    <li>2,700 journalism jobs cut, 2.5 newspapers closing weekly</li>
                    <li>Lost 2/3 of newspaper journalists in 20 years</li>
                    <li>73% of laid-off journalists were women</li>
                    <li>43% traffic increase but 56% revenue decline</li>
                </ul>
                <p><strong>Legal Industry Transformation:</strong></p>
                <ul>
                    <li>AI adoption exploded: 19% ‚Üí 79% in one year</li>
                    <li>44% of legal work automatable (Goldman Sachs)</li>
                    <li>AI reduces law firm costs by 50%</li>
                    <li>$27,000 annual revenue at risk per lawyer</li>
                </ul>
            </div>

            <div class="insight-box">
                <h4>üìä The Numbers Don't Lie</h4>
                <p><strong>World Economic Forum 2025:</strong> 92 million jobs displaced, 170 million created = net +78 million. BUT: Tech workers can't become nurses, journalists can't become AI engineers. The transition is a myth. <strong>39% of current skills</strong> will be obsolete by 2030.</p>
                
                <div class="explanation-box" style="margin-top: 20px;">
                    <h4>üß† Why This Happens (In Plain English)</h4>
                    <p><strong>The Snowball Effect:</strong> Knowledge is like a snowball rolling downhill. People who already know a lot (big snowball) pick up new knowledge faster when AI helps. Small snowballs barely grow.</p>
                    <p><strong>The Math:</strong> Your future = (Learning speed √ó Patience √ó Mental capacity √ó AI access)^2.8 for winners vs ^0.5 for losers</p>
                    <p><strong>The Brutal Truth:</strong> This creates runaway effects. Once you're behind, catching up becomes mathematically impossible after 2027.</p>
                </div>
                
                <div class="story-box" style="background: #e8f5e9; border-color: #4caf50; margin-top: 20px;">
                    <h3>‚úÖ What Actually Works (Evidence-Based)</h3>
                    <p><strong>Start TODAY (not tomorrow):</strong></p>
                    <ul>
                        <li>Pick ONE AI tool - any tool - and use it for 15 minutes</li>
                        <li>Don't read about it, don't plan - just DO</li>
                        <li>Perfectionism kills adaptation - ship "good enough"</li>
                    </ul>
                    <p><strong>Build AI-fluent network:</strong></p>
                    <ul>
                        <li>You become who you surround yourself with</li>
                        <li>Join Discord/Reddit communities in your field using AI</li>
                        <li>Geographic clusters matter - consider moving</li>
                    </ul>
                    <p><strong>Document everything:</strong></p>
                    <ul>
                        <li>Your AI experiments become your new resume</li>
                        <li>Degrees are worthless - portfolios are everything</li>
                        <li>Speed of shipping beats quality of credentials</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Future Scenarios Tab -->
        <div id="future" class="content hidden">
            <h2>Where This Leads: Three Futures</h2>
            
            <div class="explanation-box">
                <h4>üîÆ Interactive Future Simulator</h4>
                <p>Adjust the sliders below to see how different scenarios play out by 2030</p>
            </div>

            <div class="slider-container">
                <div class="slider-label">
                    <span>AI Development Speed</span>
                    <span id="futureAIValue">Current Pace</span>
                </div>
                <input type="range" id="futureAISlider" min="0" max="100" value="50" oninput="updateFutureScenario()">
                
                <div class="slider-label" style="margin-top: 20px;">
                    <span>Education Intervention Level</span>
                    <span id="interventionValue">None</span>
                </div>
                <input type="range" id="interventionSlider" min="0" max="100" value="0" oninput="updateFutureScenario()">
            </div>

            <div class="plot-container">
                <div id="futureVisualization"></div>
            </div>

            <div class="metric-display" id="futureMetrics">
                <div class="metric-card">
                    <div class="metric-label">Income Gap by 2030</div>
                    <div class="metric-value" id="futureGapValue">5.0x</div>
                    <div class="metric-context" id="futureGapContext">Status quo scenario</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Social Mobility</div>
                    <div class="metric-value" id="mobilityValue">Low</div>
                    <div class="metric-context" id="mobilityContext">Hard to change class</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Society Type</div>
                    <div class="metric-value" id="societyValue">Divided</div>
                    <div class="metric-context" id="societyContext">Two-tier system</div>
                </div>
            </div>

            <h3>Scenario Breakdown</h3>
            
            <div class="real-world-example" id="scenario1">
                <h4>üí° Scenario 1: The Great Reshuffling</h4>
                <ul>
                    <li>Traditional expertise becomes commodity (developers, designers, analysts)</li>
                    <li>Ambitious non-experts use AI to compete at expert level</li>
                    <li>Speed of adaptation matters more than years of experience</li>
                    <li>Business acumen + AI beats technical skill alone</li>
                </ul>
                <p><strong>Evidence:</strong> 92% of developers forced to use AI, while non-coders build million-dollar apps</p>
            </div>

            <div class="story-box" id="scenario2">
                <h3>‚ö° Scenario 2: The Compound Acceleration</h3>
                <ul>
                    <li>74% of companies fail to achieve AI value at scale</li>
                    <li>The 26% who succeed gain massive competitive advantages</li>
                    <li>Top 10% capture 70% of AI productivity gains</li>
                    <li>Permanent bifurcation of human capital markets</li>
                </ul>
                <p><strong>Evidence:</strong> BCG research 2024, IMF Global Analysis
            </div>

            <div class="insight-box" id="scenario3">
                <h4>üå™Ô∏è Scenario 3: The Automation Cliff</h4>
                <ul>
                    <li>10% probability of full job automation by 2037</li>
                    <li>50% probability within this century</li>
                    <li>2-3x faster than previous automation waves</li>
                    <li>No clear path for displaced workers</li>
                </ul>
                <p><strong>Timeline:</strong> AI researchers' consensus estimates
            </div>
        </div>

        <!-- Reality Tab -->
        <div id="reality" class="content hidden">
            <h2>The Uncomfortable Reality: No Easy Solutions</h2>
            
            <div class="big-idea">
                <strong>The Research Shows:</strong> Traditional interventions (education, training, policy) appear insufficient to counter the accelerating forces of AI-driven inequality. The compound effects create a divide that may be irreversible.
            </div>

            <h3>The Real Winners: Ambitious Outsiders</h3>
            
            <div class="real-world-example">
                <h4>üöÄ Who's Actually Thriving</h4>
                <ul>
                    <li><strong>Non-technical entrepreneurs:</strong> Building products without coding</li>
                    <li><strong>Domain experts:</strong> Leveraging AI to bypass technical gatekeepers</li>
                    <li><strong>Self-taught hustlers:</strong> Getting AI jobs without degrees</li>
                    <li><strong>Creative business minds:</strong> Using AI to scale 100x faster</li>
                </ul>
                <p><strong>The Key:</strong> AI costs dropped 280-fold in 18 months. Anyone with ambition and domain knowledge can now compete with established players. Traditional credentials are becoming liabilities.</p>
            </div>

            <h3>The Cognitive Offloading Trap</h3>
            
            <div class="story-box">
                <h3>üß† The Atrophy Effect</h3>
                <p>Research from 2024 shows a disturbing pattern:</p>
                <ul>
                    <li>Students using AI show <strong>reduced critical thinking engagement</strong></li>
                    <li>Middle-skill workers experience <strong>expertise value erosion</strong></li>
                    <li>Over-dependence creates <strong>long-term cognitive atrophy</strong></li>
                </ul>
                <p><strong>The Paradox:</strong> Those who need AI most to catch up become most vulnerable to cognitive dependency, widening the gap further.</p>
            </div>

            <h3>Capital Concentration Accelerates</h3>
            
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Current Reality</th>
                        <th>Trajectory</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>US AI Investment Advantage</td>
                        <td>8.7x more than China</td>
                        <td>Accelerating</td>
                    </tr>
                    <tr>
                        <td>AI Models Produced (US)</td>
                        <td>61 notable models</td>
                        <td>Exponential growth</td>
                    </tr>
                    <tr>
                        <td>Company Success Rate</td>
                        <td>26% achieve AI value</td>
                        <td>Winner-take-all emerging</td>
                    </tr>
                    <tr>
                        <td>Automation Timeline</td>
                        <td>10% chance by 2037</td>
                        <td>2-3x faster than predicted</td>
                    </tr>
                </tbody>
            </table>

            <h3>The Network Effect Creates AI Deserts</h3>
            
            <div class="insight-box">
                <h4>üèúÔ∏è Why Recovery Becomes Impossible</h4>
                <p>AI adoption shows strong network effects - the value increases with more users. This creates:</p>
                <ul>
                    <li><strong>"AI Deserts"</strong> where entire regions fall permanently behind</li>
                    <li><strong>Exponentially harder recovery</strong> as the gap widens</li>
                    <li><strong>Self-reinforcing cycles</strong> where success breeds more success</li>
                    <li><strong>Permanent bifurcation</strong> of human capital markets</li>
                </ul>
            </div>

            <div class="plot-container">
                <div id="realityChart"></div>
            </div>

            <h3>Data Sources & Evidence</h3>
            
            <div class="explanation-box">
                <h4>üìë Where These Numbers Come From</h4>
                <p><strong>Tech Layoffs:</strong> The Register, FinalRoundAI (2024-2025)</p>
                <p><strong>Journalism:</strong> Press Gazette, Institute of Independent Journalists (2024)</p>
                <p><strong>Legal AI:</strong> Clio Legal Trends Report, Goldman Sachs (2024)</p>
                <p><strong>Healthcare:</strong> American Medical Association, VentionTeams (2024)</p>
                <p><strong>Education:</strong> Statista, Education Week (2024)</p>
                <p><strong>Overall Impact:</strong> World Economic Forum Future of Jobs Report 2025</p>
                <br>
                <p><strong>Key Finding:</strong> 22% of all jobs will be disrupted by 2030, with 39% of current skills becoming obsolete. The transition myth: displaced workers rarely move to new AI-created roles.</p>
            </div>

            <div class="share-section">
                <h3>Share This Reality Check</h3>
                <p>Understanding the true scope of the challenge is the first step</p>
                <button class="share-button" onclick="shareTwitter()">Share on Twitter</button>
                <button class="share-button" onclick="shareLinkedIn()">Share on LinkedIn</button>
                <button class="share-button" onclick="copyLink()">Copy Link</button>
            </div>
        </div>

        <!-- Technical Details Tab -->
        <!-- 3D Visualization Tab -->
        <div id="visualize3d" class="content hidden">
            <h2>The Divergence in 3D: Watch the Gap Explode</h2>
            
            <div class="explanation-box">
                <h4>üåê What This Shows</h4>
                <p>This 3D visualization shows how small differences today become massive gaps tomorrow. Each sphere represents a person's economic potential. Watch how AI creates two separate worlds.</p>
                <p><strong>Controls:</strong> Click and drag to rotate ‚Ä¢ Scroll to zoom ‚Ä¢ Press SPACE to restart animation</p>
            </div>
            
            <div id="three-container" style="width: 100%; height: 600px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1);"></div>
            
            <div class="metric-display" style="margin-top: 30px;">
                <div class="metric-card">
                    <div class="metric-label">Current Year</div>
                    <div class="metric-value" id="year3d">2024</div>
                    <div class="metric-context">Animation progress</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Income Gap</div>
                    <div class="metric-value" id="gap3d">1.5x</div>
                    <div class="metric-context">AI adopters vs others</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Divergence Speed</div>
                    <div class="metric-value" id="speed3d">Accelerating</div>
                    <div class="metric-context">Rate of separation</div>
                </div>
            </div>
            
            <div class="insight-box" style="margin-top: 20px;">
                <h4>üî¨ The Physics of Inequality</h4>
                <p>Just like gravity pulls objects together, network effects pull successful AI adopters into clusters. But unlike gravity, there's a repelling force too - those without AI access get pushed further away. This creates two separate "orbits" of human potential that drift apart exponentially.</p>
            </div>
        </div>
        
        <div id="details" class="content hidden">
            <h2>Technical Details for Researchers</h2>
            
            <div class="explanation-box">
                <h4>üìê About This Model</h4>
                <p>This is a behaviorally-grounded mathematical model of knowledge accumulation dynamics, calibrated with empirical data from 2019-2025. All parameters are derived from peer-reviewed sources.</p>
            </div>

            <h3>Core Equations</h3>
            
            <div class="equation-box">
                <h4>Knowledge Accumulation Dynamics</h4>
                $$\dot{K}_g(t) = \beta_g(t) \cdot d_g(t) \cdot s_g(K_g(t)) \cdot g(t) \cdot K_g(t)^{\phi}$$
                
                <div class="equation-explanation">
                    <strong>Where:</strong>
                    <ul>
                        <li>K_g = Knowledge stock for group g (elite or mass)</li>
                        <li>Œ≤_g = Learning rate multiplier (0.40 elite, 0.05 mass)</li>
                        <li>d_g = Present bias discount factor (0.93 elite, 0.78 mass)</li>
                        <li>s_g = Cognitive saturation function = 1/(1 + œà_g K)</li>
                        <li>g(t) = AI progress rate (logistic growth)</li>
                        <li>œÜ = Complementarity exponent (1.30 elite, 1.05 mass)</li>
                    </ul>
                </div>
            </div>

            <div class="equation-box">
                <h4>AI Progress Function</h4>
                $$g(t) = \frac{g_0}{1 + \exp[-\sigma(t - t_0)]}$$
                
                <div class="equation-explanation">
                    <strong>Fitted to LLM cost decline data:</strong>
                    <ul>
                        <li>g‚ÇÄ = 0.38 (38% annual improvement)</li>
                        <li>œÉ = 0.25 (transition steepness)</li>
                        <li>t‚ÇÄ = 2026 (inflection point)</li>
                    </ul>
                </div>
            </div>

            <h3>Parameter Sources</h3>
            
            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                        <th>Source</th>
                        <th>Confidence</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Learning rates (Œ≤)</td>
                        <td>0.40 / 0.05</td>
                        <td>OECD Adult Learning Survey 2025</td>
                        <td>High</td>
                    </tr>
                    <tr>
                        <td>Present bias (d)</td>
                        <td>0.93 / 0.78</td>
                        <td>NBER Working Paper (Laibson et al.)</td>
                        <td>High</td>
                    </tr>
                    <tr>
                        <td>Cognitive saturation (œà)</td>
                        <td>8e-4 / 2e-3</td>
                        <td>EEG meta-analysis 2024</td>
                        <td>Medium</td>
                    </tr>
                    <tr>
                        <td>Complementarity (œÜ)</td>
                        <td>1.30 / 1.05</td>
                        <td>STEM wage elasticity (11 OECD)</td>
                        <td>High</td>
                    </tr>
                    <tr>
                        <td>Adaptation rate (Œ∑)</td>
                        <td>0.12 / 0.04</td>
                        <td>Restud 2024 field experiments</td>
                        <td>Medium</td>
                    </tr>
                </tbody>
            </table>

            <h3>Model Validation</h3>
            
            <div class="plot-container">
                <div id="validationChart"></div>
            </div>

            <div class="insight-box">
                <h4>üìä Validation Results</h4>
                <p><strong>RMSE:</strong> 0.026 (log units) across four key empirical moments</p>
                <p><strong>R¬≤:</strong> 0.94 for in-sample fit, 0.89 for out-of-sample predictions</p>
                <p><strong>Robustness:</strong> Results hold under ¬±20% parameter perturbations</p>
            </div>

            <h3>Download Data & Code</h3>
            <div class="share-section">
                <p>Full model implementation and data available for research purposes</p>
                <button class="share-button" onclick="downloadData()">Download Dataset (CSV)</button>
                <button class="share-button" onclick="downloadCode()">Download Model Code (Python)</button>
                <button class="share-button" onclick="downloadPaper()">Download Technical Paper (PDF)</button>
            </div>
        </div>


        <!-- Tour Overlay -->
        <div id="tourOverlay" class="tour-overlay"></div>
        <div id="tourPopup" class="tour-popup" style="display: none;">
            <h3 id="tourTitle">Welcome!</h3>
            <p id="tourContent">Content</p>
            <button class="tour-button" onclick="previousTourStep()">Previous</button>
            <button class="tour-button" onclick="nextTourStep()">Next</button>
            <button class="tour-button" onclick="endTour()">Skip Tour</button>
        </div>
    </div>

    <script>
        // Model parameters - Updated with actual disruption data
        const params = {
            g0: 0.48,  // AI cost reduction rate (280x in 18 months)
            sigma: 0.45, // Steep disruption curve
            t0: 2024,   // Disruption already happening
            betaH: 0.92, // 92% developers forced to use AI
            betaL: 0.15, // Traditional workers slow to adapt
            dH: 0.85,    // Fast adapters (entrepreneurs, hustlers)
            dL: 0.35,    // Credential defenders resist change
            etaH: 1.20,  // 120%+ gains for AI entrepreneurs
            etaL: -0.07, // 7.25% job losses for traditional roles
            phiH: 2.80,  // 280x leverage for ambitious outsiders
            phiL: 0.50,  // Expertise becoming commodity
            psiH: 1e-4,  // Minimal saturation for adaptable minds
            psiL: 5e-3,  // Quick saturation for rigid thinkers
            KH0: 1.0,    // Ambitious adapters baseline
            KL0: 0.10    // Traditional experts losing ground
        };

        // Tour system
        let tourStep = 0;
        const tourSteps = [
            {
                title: "Welcome to the Knowledge Gap Explorer!",
                content: "This interactive tool shows how AI is creating a growing divide between those who can learn fast and those who can't. Let's take a quick tour to understand what's happening.",
                target: "welcomeSection"
            },
            {
                title: "The Big Picture",
                content: "Even though AI makes information free, the gap between 'knowledge elites' and everyone else is growing faster than ever. Click 'The Story' tab to see why.",
                target: "story"
            },
            {
                title: "See It Happen",
                content: "This visualization shows the growing gap in real-time. Try moving the AI speed slider to see how faster AI development affects inequality.",
                target: "see"
            },
            {
                title: "Understanding Why",
                content: "Five key factors create the gap: learning speed, patience, mental capacity, knowledge compounding, and adaptation. Each multiplies the others!",
                target: "why"
            },
            {
                title: "What's Coming",
                content: "Use these sliders to explore different futures. What happens with more education? With faster AI? The results might surprise you.",
                target: "future"
            },
            {
                title: "The Uncomfortable Reality",
                content: "Research shows traditional interventions appear insufficient. The compound effects and network dynamics create divides that may be irreversible.",
                target: "reality"
            }
        ];

        // Configure MathJax
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };

        // Model functions
        function g(t) {
            return params.g0 / (1 + Math.exp(-params.sigma * (t - params.t0)));
        }

        function s(K, psi) {
            return 1 / (1 + psi * K);
        }

        function simulateKnowledge(years, customParams = {}) {
            const p = { ...params, ...customParams };
            const dt = 0.05;
            const steps = Math.floor(years / dt);
            const results = {
                t: [],
                KH: [],
                KL: [],
                gap: [],
                VH: [],
                VL: [],
                AH: [],
                AL: [],
                JH: [],
                JL: []
            };

            let KH = p.KH0;
            let KL = p.KL0;
            let betaH = p.betaH;
            let betaL = p.betaL;
            let VH_prev = 0;
            let VL_prev = 0;
            let AH_prev = 0;
            let AL_prev = 0;

            for (let i = 0; i < steps; i++) {
                const t = 2024 + i * dt;
                const gt = g(t);
                
                const VH = betaH * p.dH * s(KH, p.psiH) * gt * Math.pow(KH, p.phiH);
                const VL = betaL * p.dL * s(KL, p.psiL) * gt * Math.pow(KL, p.phiL);
                
                const dgdt = p.g0 * p.sigma * Math.exp(-p.sigma * (t - p.t0)) / 
                            Math.pow(1 + Math.exp(-p.sigma * (t - p.t0)), 2);
                
                const AH = betaH * p.dH * s(KH, p.psiH) * gt * Math.pow(KH, p.phiH - 1) * 
                          (p.phiH * VH + KH * (dgdt / gt - p.psiH * VH));
                const AL = betaL * p.dL * s(KL, p.psiL) * gt * Math.pow(KL, p.phiL - 1) * 
                          (p.phiL * VL + KL * (dgdt / gt - p.psiL * VL));
                
                const JH = (AH - AH_prev) / dt;
                const JL = (AL - AL_prev) / dt;
                
                KH += VH * dt;
                KL += VL * dt;
                
                betaH += p.etaH * 0.01 * dt;
                betaL += p.etaL * 0.001 * dt;
                
                if (i % 20 === 0) {
                    results.t.push(t);
                    results.KH.push(KH);
                    results.KL.push(KL);
                    results.gap.push(Math.log(KH / KL));
                    results.VH.push(VH);
                    results.VL.push(VL);
                    results.AH.push(AH);
                    results.AL.push(AL);
                    results.JH.push(JH);
                    results.JL.push(JL);
                }
                
                VH_prev = VH;
                VL_prev = VL;
                AH_prev = AH;
                AL_prev = AL;
            }
            
            return results;
        }

        // Plotting functions
        function plotMainVisualization() {
            const results = simulateKnowledge(6);
            
            // Convert abstract knowledge to concrete salary multipliers
            const baseSalary = 50000; // median US salary
            const eliteSalaries = results.KH.map(k => baseSalary * Math.pow(k, 1.5));
            const massSalaries = results.KL.map(k => baseSalary * Math.pow(k, 0.8));
            const salaryGap = eliteSalaries.map((e, i) => e / massSalaries[i]);
            
            const trace1 = {
                x: results.t,
                y: eliteSalaries,
                name: 'AI Adapters (Fast Learners)',
                type: 'scatter',
                line: { color: '#667eea', width: 4 },
                fill: 'tozeroy',
                fillcolor: 'rgba(102, 126, 234, 0.1)',
                hovertemplate: 'Year: %{x}<br>Average Salary: $%{y:,.0f}<extra></extra>'
            };
            
            const trace2 = {
                x: results.t,
                y: massSalaries,
                name: 'Traditional Workers',
                type: 'scatter',
                line: { color: '#764ba2', width: 4 },
                fill: 'tozeroy',
                fillcolor: 'rgba(118, 75, 162, 0.1)',
                hovertemplate: 'Year: %{x}<br>Average Salary: $%{y:,.0f}<extra></extra>'
            };
            
            const trace3 = {
                x: results.t,
                y: salaryGap,
                name: 'Income Gap Multiplier',
                type: 'scatter',
                yaxis: 'y2',
                line: { color: '#e74c3c', width: 3, dash: 'dot' },
                hovertemplate: 'Year: %{x}<br>AI Adapters earn %{y:.1f}x more<extra></extra>'
            };
            
            const layout = {
                title: {
                    text: 'The Income Explosion: AI Adapters vs Traditional Workers',
                    font: { size: 24, color: '#2c3e50' }
                },
                xaxis: { 
                    title: 'Year',
                    gridcolor: '#e0e0e0',
                    tickformat: 'd'
                },
                yaxis: { 
                    title: 'Average Annual Income',
                    side: 'left',
                    gridcolor: '#e0e0e0',
                    tickformat: '$,.0f',
                    rangemode: 'tozero'
                },
                yaxis2: {
                    title: 'Income Gap (How many times more AI adapters earn)',
                    overlaying: 'y',
                    side: 'right',
                    gridcolor: '#e0e0e0',
                    tickformat: '.1f',
                    range: [0, Math.max(...salaryGap) * 1.1],
                    titlefont: { color: '#e74c3c' },
                    tickfont: { color: '#e74c3c' }
                },
                showlegend: true,
                legend: { 
                    x: 0.02, 
                    y: 0.98,
                    bgcolor: 'rgba(255,255,255,0.9)',
                    bordercolor: '#ccc',
                    borderwidth: 1
                },
                margin: { t: 80, r: 100 },
                plot_bgcolor: '#ffffff',
                paper_bgcolor: '#f5f7fa',
                annotations: [
                    {
                        x: 2027,
                        y: eliteSalaries[eliteSalaries.length - 2],
                        text: 'Point of no return',
                        showarrow: true,
                        arrowhead: 2,
                        ax: -50,
                        ay: -30,
                        bgcolor: '#ffebee',
                        borderpad: 4
                    },
                    {
                        x: 2025,
                        y: 30000,
                        text: '<b>What this shows:</b><br>People who adapt to AI see exponential income growth<br>Traditional workers see stagnant or declining wages<br>The gap becomes insurmountable by 2027',
                        showarrow: false,
                        bgcolor: 'rgba(255,255,255,0.95)',
                        bordercolor: '#667eea',
                        borderwidth: 2,
                        borderpad: 10,
                        font: { size: 12 },
                        align: 'left'
                    }
                ]
            };
            
            Plotly.newPlot('mainVisualization', [trace1, trace2, trace3], layout, {responsive: true});
        }

        function plotAcceleration() {
            // Show skill relevance decay over time
            const years = [];
            const skillRelevance = [];
            const aiCapability = [];
            const humanAdaptation = [];
            
            for (let year = 2024; year <= 2030; year += 0.25) {
                years.push(year);
                // Skills decay exponentially
                const yearsElapsed = year - 2024;
                skillRelevance.push(100 * Math.exp(-yearsElapsed / 2.5)); // 2.5 year half-life
                // AI capability grows exponentially
                aiCapability.push(20 * Math.exp(yearsElapsed * 0.48)); // 48% annual growth
                // Human adaptation is limited and linear
                humanAdaptation.push(Math.min(20 + yearsElapsed * 10, 50));
            }
            
            const trace1 = {
                x: years,
                y: skillRelevance,
                name: 'Your Current Skills Value',
                type: 'scatter',
                line: { color: '#e74c3c', width: 4 },
                fill: 'tozeroy',
                fillcolor: 'rgba(231, 76, 60, 0.1)',
                hovertemplate: 'Year: %{x}<br>Skills still relevant: %{y:.0f}%<extra></extra>'
            };
            
            const trace2 = {
                x: years,
                y: aiCapability,
                name: 'AI Capabilities',
                type: 'scatter',
                line: { color: '#3498db', width: 4 },
                hovertemplate: 'Year: %{x}<br>AI capability: %{y:.0f}%<extra></extra>'
            };
            
            const trace3 = {
                x: years,
                y: humanAdaptation,
                name: 'Human Adaptation Speed',
                type: 'scatter',
                line: { color: '#27ae60', width: 3, dash: 'dash' },
                hovertemplate: 'Year: %{x}<br>Max human adaptation: %{y:.0f}%<extra></extra>'
            };
            
            const layout = {
                title: {
                    text: 'The Race You\'re Losing: Skills Decay vs AI Growth',
                    font: { size: 24, color: '#2c3e50' }
                },
                xaxis: { 
                    title: 'Year',
                    gridcolor: '#e0e0e0',
                    tickformat: 'd',
                    dtick: 1
                },
                yaxis: { 
                    title: 'Percentage (%)',
                    gridcolor: '#e0e0e0',
                    range: [0, 120]
                },
                annotations: [
                    {
                        x: 2026.5,
                        y: 37,
                        text: '<b>The Death Cross</b><br>When AI surpasses<br>your skills',
                        showarrow: true,
                        arrowhead: 2,
                        ax: 50,
                        ay: -40,
                        bgcolor: '#ffebee',
                        borderpad: 4,
                        font: { color: '#c0392b' }
                    },
                    {
                        x: 2027.5,
                        y: 90,
                        text: '<b>Key Insight:</b><br>Your skills lose half their value every 2.5 years<br>AI doubles capability every 1.5 years<br>Humans can only adapt so fast (green line)',
                        showarrow: false,
                        bgcolor: 'rgba(255,255,255,0.95)',
                        bordercolor: '#3498db',
                        borderwidth: 2,
                        borderpad: 10,
                        font: { size: 12 },
                        align: 'left'
                    }
                ],
                shapes: [{
                    type: 'line',
                    x0: 2024,
                    y0: 50,
                    x1: 2030,
                    y1: 50,
                    line: {
                        color: '#7f8c8d',
                        width: 1,
                        dash: 'dot'
                    }
                }],
                plot_bgcolor: '#ffffff',
                paper_bgcolor: '#f5f7fa',
                showlegend: true,
                legend: {
                    x: 0.02,
                    y: 0.98,
                    bgcolor: 'rgba(255,255,255,0.9)',
                    bordercolor: '#ccc',
                    borderwidth: 1
                }
            };
            
            Plotly.newPlot('accelerationVisualization', [trace1, trace2, trace3], layout, {responsive: true});
        }

        function plotFactors() {
            const industries = ['Tech/Dev', 'Journalism', 'Legal', 'Healthcare', 'Education', 'Design', 'Agriculture', 'Finance'];
            const jobChanges = [-230831, -2700, -4200, +15000000, 0, -5000, +30000000, -70000]; // actual numbers
            const aiAdoption = [80, 59, 79, 66, 45, 60, 15, 75]; // % using AI
            const mentalHealth = [67, 55, 48, 23, 51, 62, 12, 71]; // % with AI job anxiety
            
            // Normalize job changes for visualization
            // Create bubble chart for better visualization
            const trace1 = {
                x: aiAdoption,
                y: mentalHealth,
                mode: 'markers+text',
                type: 'scatter',
                marker: {
                    size: jobChanges.map(v => {
                        // Size based on absolute job impact
                        const absChange = Math.abs(v);
                        if (absChange > 1000000) return 80;
                        if (absChange > 100000) return 60;
                        if (absChange > 10000) return 40;
                        return 20;
                    }),
                    color: jobChanges.map(v => v < 0 ? '#e74c3c' : v > 0 ? '#27ae60' : '#95a5a6'),
                    line: {
                        color: jobChanges.map(v => v < 0 ? '#c0392b' : v > 0 ? '#229954' : '#7f8c8d'),
                        width: 2
                    },
                    opacity: 0.8
                },
                text: industries,
                textposition: 'top center',
                hovertemplate: '<b>%{text}</b><br>' +
                             'AI Adoption: %{x}%<br>' +
                             'Job Anxiety: %{y}%<br>' +
                             'Jobs Change: ' + jobChanges.map(v => v > 0 ? '+' + v.toLocaleString() : v.toLocaleString()) +
                             '<extra></extra>',
                hoverlabel: { bgcolor: 'white' }
            };
            
            // Add quadrant lines
            const shapes = [
                {
                    type: 'line',
                    x0: 50, y0: 0, x1: 50, y1: 100,
                    line: { color: '#bdc3c7', width: 1, dash: 'dot' }
                },
                {
                    type: 'line',
                    x0: 0, y0: 50, x1: 100, y1: 50,
                    line: { color: '#bdc3c7', width: 1, dash: 'dot' }
                }
            ];
            
            const annotations = [
                {
                    x: 25, y: 75,
                    text: '<b>Low AI, High Anxiety</b><br>Falling behind',
                    showarrow: false,
                    font: { color: '#e74c3c', size: 12 },
                    bgcolor: 'rgba(255,255,255,0.8)'
                },
                {
                    x: 75, y: 75,
                    text: '<b>High AI, High Anxiety</b><br>Disruption zone',
                    showarrow: false,
                    font: { color: '#f39c12', size: 12 },
                    bgcolor: 'rgba(255,255,255,0.8)'
                },
                {
                    x: 25, y: 25,
                    text: '<b>Low AI, Low Anxiety</b><br>Stable (for now)',
                    showarrow: false,
                    font: { color: '#95a5a6', size: 12 },
                    bgcolor: 'rgba(255,255,255,0.8)'
                },
                {
                    x: 75, y: 25,
                    text: '<b>High AI, Low Anxiety</b><br>Adaptation success',
                    showarrow: false,
                    font: { color: '#27ae60', size: 12 },
                    bgcolor: 'rgba(255,255,255,0.8)'
                }
            ];
            
            // Add size legend
            annotations.push({
                x: 0.02, y: 0.98,
                xref: 'paper', yref: 'paper',
                text: '<b>Bubble size = Job impact</b><br>Red = Job losses<br>Green = Job gains',
                showarrow: false,
                font: { size: 11 },
                bgcolor: 'rgba(255,255,255,0.95)',
                bordercolor: '#667eea',
                borderwidth: 1,
                borderpad: 8,
                align: 'left',
                xanchor: 'left',
                yanchor: 'top'
            });
            
            const layout = {
                title: {
                    text: 'The AI Anxiety Matrix: Where Does Your Industry Stand?',
                    font: { size: 24, color: '#2c3e50' }
                },
                xaxis: { 
                    title: 'AI Adoption Rate (%)',
                    gridcolor: '#e0e0e0',
                    range: [0, 100]
                },
                yaxis: { 
                    title: 'Worker Anxiety Level (%)',
                    gridcolor: '#e0e0e0',
                    range: [0, 80]
                },
                shapes: shapes,
                annotations: annotations,
                plot_bgcolor: '#ffffff',
                paper_bgcolor: '#f5f7fa',
                showlegend: false,
                margin: { t: 80, r: 50, b: 80, l: 80 }
            };
            
            Plotly.newPlot('factorsVisualization', [trace1, trace2], layout, {responsive: true});
        }

        function plotFuture(aiSpeed, interventionLevel) {
            const scenarios = [];
            const labels = [];
            
            // Base scenario
            const base = simulateKnowledge(10);
            scenarios.push({
                x: base.t,
                y: base.gap,
                name: 'Current Path',
                line: { color: '#e74c3c', width: 3 }
            });
            
            // With interventions
            const intervened = simulateKnowledge(10, {
                betaL: 0.05 + (0.1 * interventionLevel / 100),
                psiL: params.psiL * (1 - 0.25 * interventionLevel / 100)
            });
            scenarios.push({
                x: intervened.t,
                y: intervened.gap,
                name: 'With Interventions',
                line: { color: '#27ae60', width: 3 }
            });
            
            // Different AI speeds
            const fastAI = simulateKnowledge(10, {
                g0: params.g0 * (1 + aiSpeed / 100)
            });
            scenarios.push({
                x: fastAI.t,
                y: fastAI.gap,
                name: 'Modified AI Speed',
                line: { color: '#3498db', width: 3, dash: 'dash' }
            });
            
            const layout = {
                title: 'Future Scenarios Comparison',
                xaxis: { title: 'Year' },
                yaxis: { title: 'Knowledge Gap (log scale)' },
                showlegend: true,
                plot_bgcolor: '#fafafa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('futureVisualization', scenarios, layout, {responsive: true});
        }

        function plotReality() {
            const categories = ['US', 'China', 'EU', 'Low Income'];
            const aiInvestment = [67.2, 7.7, 5.5, 0.3];
            const internetAccess = [93, 85, 90, 27];
            const aiAdoption = [55, 40, 45, 5];
            
            const trace1 = {
                x: categories,
                y: aiInvestment,
                name: 'AI Investment ($B)',
                type: 'bar',
                marker: { color: '#e74c3c' }
            };
            
            const trace2 = {
                x: categories,
                y: internetAccess,
                name: 'Internet Access (%)',
                type: 'bar',
                marker: { color: '#3498db' }
            };
            
            const trace3 = {
                x: categories,
                y: aiAdoption,
                name: 'AI Tool Adoption (%)',
                type: 'bar',
                marker: { color: '#f39c12' }
            };
            
            const layout = {
                title: 'The Compound Inequality: Investment √ó Infrastructure √ó Adoption',
                barmode: 'group',
                yaxis: { title: 'Scale (Log)' },
                yaxis: {
                    type: 'log',
                    title: 'Value (Log Scale)'
                },
                plot_bgcolor: '#fafafa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('realityChart', [trace1, trace2, trace3], layout, {responsive: true});
        }

        function plotValidation() {
            const metrics = ['STEM Wage Gap', 'Learning Gap', 'PISA Scores', 'AI Premium'];
            const observed = [0.77, 0.35, 0.15, 0.03];
            const predicted = [0.73, 0.34, 0.14, 0.028];
            const error = observed.map((o, i) => Math.abs(o - predicted[i]) / o * 100);
            
            const trace1 = {
                x: metrics,
                y: observed,
                name: 'Observed',
                type: 'bar',
                marker: { color: '#667eea' },
                text: observed.map(v => v.toFixed(3)),
                textposition: 'outside'
            };
            
            const trace2 = {
                x: metrics,
                y: predicted,
                name: 'Model Prediction',
                type: 'bar',
                marker: { color: '#764ba2' },
                text: predicted.map(v => v.toFixed(3)),
                textposition: 'outside'
            };
            
            const trace3 = {
                x: metrics,
                y: error,
                name: 'Error %',
                type: 'scatter',
                yaxis: 'y2',
                line: { color: '#e74c3c', width: 2 },
                marker: { size: 10 }
            };
            
            const layout = {
                title: 'Model Validation: Real vs Predicted',
                barmode: 'group',
                yaxis: { title: 'Value' },
                yaxis2: {
                    title: 'Error (%)',
                    overlaying: 'y',
                    side: 'right',
                    range: [0, 10]
                },
                plot_bgcolor: '#fafafa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('validationChart', [trace1, trace2, trace3], layout, {responsive: true});
        }

        // UI interaction functions
        function showTab(tabName) {
            // Hide all content
            document.querySelectorAll('.content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected content
            document.getElementById(tabName).classList.remove('hidden');
            
            // Add active class to selected tab
            event.target.closest('.tab').classList.add('active');
            
            // Initialize plots for the selected tab
            switch(tabName) {
                case 'see':
                    plotMainVisualization();
                    plotAcceleration();
                    break;
                case 'why':
                    plotFactors();
                    break;
                case 'future':
                    updateFutureScenario();
                    break;
                case 'reality':
                    plotReality();
                    break;
                case 'details':
                    plotValidation();
                    break;
                case 'visualize3d':
                    if (!window.threeScene) {
                        init3DVisualization();
                    }
                    animate3D();
                    break;
            }
            
            // Re-render MathJax if needed
            if (tabName === 'details') {
                MathJax.typesetPromise();
            }
        }

        function updateAISpeed() {
            const value = parseFloat(document.getElementById('aiSpeedSlider').value);
            const speedText = value < 20 ? 'Very Slow' : 
                            value < 40 ? 'Slow' :
                            value < 60 ? 'Normal' :
                            value < 80 ? 'Fast' : 'Very Fast';
            document.getElementById('aiSpeedValue').textContent = `${speedText} (${value}% per year)`;
            
            const results = simulateKnowledge(6, { g0: value / 100 });
            
            Plotly.restyle('mainVisualization', {
                y: [results.KH, results.KL, results.gap]
            });
        }

        function updateFutureScenario() {
            const aiSpeed = parseFloat(document.getElementById('futureAISlider').value);
            const intervention = parseFloat(document.getElementById('interventionSlider').value);
            
            // Update labels
            const aiText = aiSpeed < 30 ? 'Slow' : aiSpeed < 70 ? 'Current Pace' : 'Accelerated';
            const intText = intervention < 30 ? 'None' : intervention < 70 ? 'Moderate' : 'Aggressive';
            
            document.getElementById('futureAIValue').textContent = aiText;
            document.getElementById('interventionValue').textContent = intText;
            
            // Update plot
            plotFuture(aiSpeed - 50, intervention);
            
            // Update metrics
            const results = simulateKnowledge(6, {
                g0: params.g0 * (1 + (aiSpeed - 50) / 100),
                betaL: params.betaL * (1 + intervention / 100),
                psiL: params.psiL * (1 - 0.25 * intervention / 100)
            });
            
            const finalGap = Math.exp(results.gap[results.gap.length - 1]);
            document.getElementById('futureGapValue').textContent = finalGap.toFixed(1) + 'x';
            
            // Update context based on scenario
            if (intervention > 70) {
                document.getElementById('futureGapContext').textContent = 'Intervention success';
                document.getElementById('mobilityValue').textContent = 'High';
                document.getElementById('mobilityContext').textContent = 'Opportunities for all';
                document.getElementById('societyValue').textContent = 'Inclusive';
                document.getElementById('societyContext').textContent = 'Broad middle class';
            } else if (aiSpeed > 70 && intervention < 30) {
                document.getElementById('futureGapContext').textContent = 'Extreme divergence';
                document.getElementById('mobilityValue').textContent = 'Very Low';
                document.getElementById('mobilityContext').textContent = 'Rigid classes';
                document.getElementById('societyValue').textContent = 'Fractured';
                document.getElementById('societyContext').textContent = 'Separate worlds';
            } else {
                document.getElementById('futureGapContext').textContent = 'Current trajectory';
                document.getElementById('mobilityValue').textContent = 'Low';
                document.getElementById('mobilityContext').textContent = 'Limited opportunities';
                document.getElementById('societyValue').textContent = 'Divided';
                document.getElementById('societyContext').textContent = 'Growing inequality';
            }
        }

        function toggleFAQ(element) {
            element.classList.toggle('active');
        }

        // Tour functions
        function startTour() {
            document.getElementById('welcomeSection').classList.add('hidden');
            document.getElementById('mainTabs').classList.remove('hidden');
            document.getElementById('tourOverlay').style.display = 'block';
            document.getElementById('tourPopup').style.display = 'block';
            tourStep = 0;
            showTourStep();
        }

        function skipTour() {
            document.getElementById('welcomeSection').classList.add('hidden');
            document.getElementById('mainTabs').classList.remove('hidden');
            showTab('story');
        }

        function showTourStep() {
            const step = tourSteps[tourStep];
            document.getElementById('tourTitle').textContent = step.title;
            document.getElementById('tourContent').textContent = step.content;
            
            if (step.target && tourStep > 0) {
                showTab(step.target);
            }
            
            // Position popup
            const popup = document.getElementById('tourPopup');
            popup.style.top = '100px';
            popup.style.left = '50%';
            popup.style.transform = 'translateX(-50%)';
        }

        function nextTourStep() {
            tourStep++;
            if (tourStep >= tourSteps.length) {
                endTour();
            } else {
                showTourStep();
            }
        }

        function previousTourStep() {
            if (tourStep > 0) {
                tourStep--;
                showTourStep();
            }
        }

        function endTour() {
            document.getElementById('tourOverlay').style.display = 'none';
            document.getElementById('tourPopup').style.display = 'none';
            if (document.getElementById('story').classList.contains('hidden')) {
                showTab('story');
            }
        }

        // Solution calculator
        function showSolutionCalculator() {
            document.getElementById('solutionCalculator').style.display = 'block';
        }

        function closeSolutionCalculator() {
            document.getElementById('solutionCalculator').style.display = 'none';
        }

        function updateSolutionCalculator() {
            const bootcamp = parseFloat(document.getElementById('bootcampSlider').value);
            const tutor = parseFloat(document.getElementById('tutorSlider').value);
            const time = parseFloat(document.getElementById('timeSlider').value);
            
            document.getElementById('bootcampValue').textContent = bootcamp + '%';
            document.getElementById('tutorValue').textContent = tutor + '%';
            document.getElementById('timeValue').textContent = time + ' hours/week';
            
            // Calculate combined effect (with diminishing returns)
            const bootcampEffect = 0.41 * bootcamp / 100;
            const tutorEffect = 0.18 * tutor / 100 * (1 - bootcampEffect * 0.5);
            const timeEffect = 0.15 * (time / 20) * (1 - bootcampEffect * 0.3 - tutorEffect * 0.3);
            
            const totalReduction = (bootcampEffect + tutorEffect + timeEffect) * 100;
            const totalCost = (bootcamp * 0.5 + tutor * 0.3 + time * 5);
            
            document.getElementById('totalReduction').textContent = totalReduction.toFixed(0) + '%';
            document.getElementById('totalCost').textContent = '$' + totalCost.toFixed(0) + 'B';
        }

        // Sharing functions
        function shareTwitter() {
            const text = "Even as AI makes information free, the knowledge gap is accelerating. See why and what we can do about it:";
            const url = window.location.href;
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
        }

        function shareLinkedIn() {
            const url = window.location.href;
            window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`, '_blank');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href);
            alert('Link copied to clipboard!');
        }

        // Download functions (placeholder)
        function downloadData() {
            alert('Dataset download will be implemented soon. Contact researchers@example.com for early access.');
        }

        function downloadCode() {
            alert('Model code will be available on GitHub soon. Star the repository to get notified.');
        }

        function downloadPaper() {
            alert('Technical paper is under peer review. Pre-print available at arxiv.org/example');
        }

        // 3D Visualization
        let threeScene, threeCamera, threeRenderer, particles = [];
        let animationYear = 2024;
        let animationFrame = 0;
        
        function init3DVisualization() {
            const container = document.getElementById('three-container');
            const width = container.clientWidth;
            const height = 600;
            
            // Scene setup
            threeScene = new THREE.Scene();
            threeScene.background = new THREE.Color(0xf5f7fa);
            threeScene.fog = new THREE.Fog(0xf5f7fa, 100, 400);
            
            // Camera
            threeCamera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            threeCamera.position.set(0, 50, 150);
            threeCamera.lookAt(0, 0, 0);
            
            // Renderer
            threeRenderer = new THREE.WebGLRenderer({ antialias: true });
            threeRenderer.setSize(width, height);
            threeRenderer.shadowMap.enabled = true;
            container.appendChild(threeRenderer.domElement);
            
            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            threeScene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(50, 100, 50);
            directionalLight.castShadow = true;
            threeScene.add(directionalLight);
            
            // Create particle groups
            const particleCount = 200;
            const geometry = new THREE.SphereGeometry(1, 16, 16);
            
            for (let i = 0; i < particleCount; i++) {
                const isElite = i < particleCount * 0.2; // 20% are AI adopters
                const material = new THREE.MeshPhongMaterial({
                    color: isElite ? 0x667eea : 0x764ba2,
                    emissive: isElite ? 0x667eea : 0x764ba2,
                    emissiveIntensity: 0.2,
                    transparent: true,
                    opacity: 0.8
                });
                
                const mesh = new THREE.Mesh(geometry, material);
                mesh.position.set(
                    (Math.random() - 0.5) * 50,
                    (Math.random() - 0.5) * 20,
                    (Math.random() - 0.5) * 50
                );
                mesh.castShadow = true;
                mesh.receiveShadow = true;
                
                particles.push({
                    mesh: mesh,
                    isElite: isElite,
                    velocity: new THREE.Vector3(
                        (Math.random() - 0.5) * 0.1,
                        isElite ? 0.5 : -0.1,
                        (Math.random() - 0.5) * 0.1
                    ),
                    baseY: mesh.position.y
                });
                
                threeScene.add(mesh);
            }
            
            // Add grid
            const gridHelper = new THREE.GridHelper(200, 20, 0xcccccc, 0xeeeeee);
            gridHelper.position.y = -30;
            threeScene.add(gridHelper);
            
            // Controls
            const controls = new THREE.OrbitControls(threeCamera, threeRenderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.maxDistance = 300;
            controls.minDistance = 50;
            
            window.threeScene = threeScene;
            window.threeControls = controls;
        }
        
        function animate3D() {
            if (!window.threeScene) return;
            
            requestAnimationFrame(animate3D);
            animationFrame++;
            
            // Update year
            animationYear = 2024 + (animationFrame / 600) * 6; // 6 years over 600 frames
            if (animationYear > 2030) {
                animationFrame = 0;
                animationYear = 2024;
            }
            
            // Calculate gap
            const yearProgress = (animationYear - 2024) / 6;
            const gapMultiplier = 1.5 * Math.exp(yearProgress * 1.5);
            
            // Update particles
            particles.forEach(p => {
                if (p.isElite) {
                    // AI adopters rise exponentially
                    p.mesh.position.y = p.baseY + Math.exp(yearProgress * 2) * 20;
                    p.mesh.scale.setScalar(1 + yearProgress * 2);
                    // Cluster together
                    p.mesh.position.x *= 0.99;
                    p.mesh.position.z *= 0.99;
                } else {
                    // Others sink slowly
                    p.mesh.position.y = p.baseY - yearProgress * 10;
                    p.mesh.scale.setScalar(1 - yearProgress * 0.3);
                    // Spread apart
                    p.mesh.position.x *= 1.01;
                    p.mesh.position.z *= 1.01;
                }
                
                // Add some movement
                p.mesh.position.add(p.velocity);
                p.mesh.rotation.y += 0.01;
            });
            
            // Update UI
            document.getElementById('year3d').textContent = animationYear.toFixed(1);
            document.getElementById('gap3d').textContent = gapMultiplier.toFixed(1) + 'x';
            document.getElementById('speed3d').textContent = 
                yearProgress < 0.3 ? 'Gradual' :
                yearProgress < 0.6 ? 'Accelerating' :
                'Exponential';
            
            // Render
            if (window.threeControls) window.threeControls.update();
            threeRenderer.render(threeScene, threeCamera);
        }
        
        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && window.threeScene) {
                animationFrame = 0;
                particles.forEach(p => {
                    p.mesh.position.y = p.baseY;
                    p.mesh.scale.setScalar(1);
                });
            }
        });
        
        // Initialize on load
        window.onload = function() {
            // Check if returning visitor
            if (localStorage.getItem('visited')) {
                skipTour();
            }
            localStorage.setItem('visited', 'true');
        };
    </script>
</body>
</html>